<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置与API参考 | 食用指南 - AnimeUI</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/AnimeSearcherUI/assets/css/0.styles.a4a335a6.css" as="style"><link rel="preload" href="/AnimeSearcherUI/assets/js/app.d72c58fc.js" as="script"><link rel="preload" href="/AnimeSearcherUI/assets/js/2.35270449.js" as="script"><link rel="preload" href="/AnimeSearcherUI/assets/js/16.bcb4dc26.js" as="script"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/10.152a6b4b.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/11.06f2dd3f.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/12.8d44d614.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/13.915ed67a.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/14.c10479aa.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/15.fc837728.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/17.ee7e6971.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/18.684436d5.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/19.ae70fe4e.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/20.3ac49e6e.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/3.3cfe6154.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/4.2450c51a.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/5.6943b536.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/6.5e1443d0.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/7.538841b4.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/8.87186238.js"><link rel="prefetch" href="/AnimeSearcherUI/assets/js/9.28555134.js">
    <link rel="stylesheet" href="/AnimeSearcherUI/assets/css/0.styles.a4a335a6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AnimeSearcherUI/" class="home-link router-link-active"><img src="/AnimeSearcherUI/logo.png" alt="食用指南 - AnimeUI" class="logo"> <span class="site-name can-hide">食用指南 - AnimeUI</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AnimeSearcherUI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/Guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/instruction/" class="nav-link">
  使用指南
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/features/" class="nav-link">
  特性说明
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/theme-dev/" class="nav-link router-link-active">
  主题开发
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/AnimeSearcherUI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/Guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/instruction/" class="nav-link">
  使用指南
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/features/" class="nav-link">
  特性说明
</a></div><div class="nav-item"><a href="/AnimeSearcherUI/theme-dev/" class="nav-link router-link-active">
  主题开发
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>配置与API参考</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#theme" class="sidebar-link">$theme</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#utility" class="sidebar-link">Utility</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#resolvepath" class="sidebar-link">resolvePath</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#lzynotice" class="sidebar-link">lzynotice</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#lzydialog" class="sidebar-link">lzydialog</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#registershortcut" class="sidebar-link">registerShortcut</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#unregistershortcut" class="sidebar-link">unregisterShortcut</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#lookupshortcut" class="sidebar-link">lookupShortcut</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#auiplayer" class="sidebar-link">auiplayer</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#回调参数auiplayer包含方法" class="sidebar-link" style="padding-left:3rem;">回调参数auiplayer包含方法：</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#addplayerhotkey" class="sidebar-link">addPlayerHotkey</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#addtoplaylist" class="sidebar-link">addToPlaylist</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#addplaylist" class="sidebar-link">addPlaylist</a></li></ul></li><li><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#utils" class="sidebar-link">Utils</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#lyscrollto" class="sidebar-link">lyscrollTo</a></li></ul></li><li><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#events" class="sidebar-link">Events</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#animeui-events" class="sidebar-link">AnimeUI Events</a></li><li class="sidebar-sub-header"><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#dlplayer-events" class="sidebar-link">DLPlayer Events</a></li></ul></li><li><a href="/AnimeSearcherUI/theme-dev/style/api-config.html#文档不完全可靠" class="sidebar-link">文档不完全可靠</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="配置与api参考"><a href="#配置与api参考" class="header-anchor">#</a> 配置与API参考</h1> <p>配置离不开API， API也要正确进行配置</p> <p>这里是AnimeUI主题风格的API 和 配置参考页。</p> <h2 id="theme"><a href="#theme" class="header-anchor">#</a> $theme</h2> <p>主题风格添加功能的入口函数，
$theme 能保证你添加的功能函数在恰当的时机执行，
通过指定页面匹配规则，让主题风格的功能增强就像修改传统多页应用一样简单。
并在恰当的时机清除副作用。</p> <p>不严谨的TS类型参考:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// $theme 函数原型</span>
<span class="token keyword">function</span> <span class="token function">$theme</span><span class="token punctuation">(</span>
  <span class="token comment">// First param to invoke (or say inject impact). Do your jobs here!</span>
  invoke<span class="token operator">:</span> Calling<span class="token punctuation">,</span> 
  <span class="token comment">// Second param to revoke the side-effection of previously invoke.</span>
  revoke<span class="token operator">?</span><span class="token operator">:</span> CallBack<span class="token punctuation">,</span> <span class="token comment">// 可缺省</span>
  <span class="token comment">// Third param to configuration </span>
  options<span class="token operator">?</span><span class="token operator">:</span> Options <span class="token comment">// 可缺省</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token comment">// Type declares in ts.</span>
<span class="token keyword">function</span> <span class="token function">CallBack</span><span class="token punctuation">(</span>a<span class="token operator">:</span> Utility<span class="token punctuation">,</span> b<span class="token operator">:</span> Utils<span class="token punctuation">,</span> enhance<span class="token operator">:</span> Enhance<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;revoke&quot; is refers to the prototype of revoke Function.</span>
<span class="token keyword">function</span> <span class="token function">Calling</span><span class="token punctuation">(</span>a<span class="token operator">:</span> Utility<span class="token punctuation">,</span> b<span class="token operator">:</span> Utils<span class="token punctuation">,</span> enhance<span class="token operator">:</span> Enhance <span class="token operator">&amp;</span> <span class="token punctuation">{</span> revoke<span class="token operator">:</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> revoke<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span> 
<span class="token keyword">interface</span> <span class="token class-name">Options</span> <span class="token punctuation">{</span>
  path<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> RegExp <span class="token operator">|</span> RegExp<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// default '', means match all.</span>
  excludePath<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> RegExp <span class="token operator">|</span> RegExp<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// default [], means excludes none.</span>
  onInvokeError<span class="token operator">?</span><span class="token operator">:</span> CallBack<span class="token punctuation">,</span> <span class="token comment">// 用于添加功能时出错的处理</span>
  onRevokeError<span class="token operator">?</span><span class="token operator">:</span> CallBack<span class="token punctuation">,</span> <span class="token comment">// 用于消除副作用时出错的处理</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Enhance</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">getVue</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>Vue <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 获取Vue</span>
  <span class="token function-variable function">getRoute</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>Route<span class="token punctuation">,</span> <span class="token comment">// 获取当前页面VueRouter的Route对象</span>
  <span class="token function-variable function">getRouter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>VueRouter<span class="token punctuation">,</span> <span class="token comment">// 获取VueRouter</span>
  <span class="token operator">...</span>GlobalConstructors<span class="token punctuation">,</span> <span class="token comment">// 更多的全局共享模块</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">GlobalConstructors</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  axios<span class="token punctuation">,</span> Lycabinet<span class="token punctuation">,</span> Laction<span class="token punctuation">,</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>目前 <code>$theme</code> 函数的第二个、第三个参数都可缺省。</p> <p>对于 <code>$theme</code> 回调函数的前两个参数 utility和utils 均为包含各种实用函数方法的对象，其内容详见：</p> <ul><li>第一个参数: <a href="#utility">主题风格API功能库 Utility</a></li> <li>第二个参数: <a href="#utils">静态函数共享 Utils</a></li></ul> <p>第三个参数是后续所有拓展的内容，目前这里共享了有Vue(Vue3)，VueRouterInstance, 当前页面route对象，以及一些其他的全局构造类(如Axios、Lycabinet、Laction等)</p> <p>其中Vue(Vue3)，VueRouterInstance, 当前页面route对象的获取方式均为函数返回值。</p> <p>示例:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$theme</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">utility<span class="token punctuation">,</span> utils<span class="token punctuation">,</span> Ehance</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> getVue<span class="token punctuation">,</span> getRouter<span class="token punctuation">,</span> getRoute<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Ehance<span class="token punctuation">;</span>
  <span class="token comment">// 引入任何Vue3 Hook，支持Template编译</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> createApp<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getVue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> $router <span class="token operator">=</span> <span class="token function">getRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> $route <span class="token operator">=</span> <span class="token function">getRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 打印 $route 查看当前页面路由信息</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 调用 $router.push 导航路由 跳转到起始页</span>
  <span class="token keyword">const</span> waiting <span class="token operator">=</span> $router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/navigator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get a Promise</span>
  
  <span class="token comment">// 预先创建节点</span>
  <span class="token keyword">var</span> appDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  appDiv<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;my-app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置id供Vue挂载实例</span>
  appDiv<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class=&quot;counter&quot;&gt;
      Counter: {{ counter }}
    &lt;/div&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// 创建Vue实例</span>
  <span class="token keyword">const</span> Counter <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  waiting<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 预先添加节点</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>appDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 构造Vue实例并挂载</span>
    <span class="token keyword">const</span> VueApp <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>Counter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#my-app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用hook方式消除产生的影响</span>
    <span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      VueApp<span class="token punctuation">.</span><span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 卸载vue实例</span>
      appDiv<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移除加入的节点</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>有了 $router 对象，你就能任意对页面进行导航、修改路由。</p> <p>有了支持动态编译的全部Vue函数组件，你甚至能配合动态添加路由直接编写加入新页面！</p> <p>Links:</p> <ul><li><a href="https://v3.cn.vuejs.org/guide/introduction.html" target="_blank" rel="noopener noreferrer">Vue3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://router.vuejs.org/zh/guide/#javascript" target="_blank" rel="noopener noreferrer">VueRouter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://axios-http.com/" target="_blank" rel="noopener noreferrer">axios<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="utility"><a href="#utility" class="header-anchor">#</a> Utility</h2> <p>Utility对象即是所谓的主题风格API功能库，其中包含了多个高度封装的函数接口供主题风格对应用进行定制。</p> <p>其中有部分函数可能在运行时发生变化，主要部分是可能仅在其相应的路由页面下才存在。</p> <p>可用方法列表：(Add Annotation / todo...)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token string">&quot;addThemeOptions&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;addQuotations&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;setCategory&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;isBlendingDark&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;resolvePath&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;setBackground&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;addAdorement&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;removeAdorement&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// Notification API</span>
  <span class="token string">&quot;lzydialog&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;lzynotice&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;clearNotice&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;addNotifycation&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// For shortcut (namely hotkey)</span>
  <span class="token string">&quot;alterShortcut&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;registerShortcut&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;unregisterShortcut&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;resetShortcut&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;lookupShortcut&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// AuiPlayer Related</span>
  <span class="token string">&quot;addPlayerHotkey&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;auiplayer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;auiplayerDepthSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;addToPlaylist&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;addPlaylist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 添加到播放列表 / 添加整个播放列表</span>
  <span class="token comment">// Events API</span>
  <span class="token string">&quot;_on&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_off&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;_once&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_isHappened&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="resolvepath"><a href="#resolvepath" class="header-anchor">#</a> resolvePath</h3> <p>用于将路径字符串以当前激活的主题风格目录为根目录进行一次路径解析，得到可供浏览器正确识别的路径。</p> <p>注意: 全局子主题中该API不能正常工作。</p> <h3 id="lzynotice"><a href="#lzynotice" class="header-anchor">#</a> lzynotice</h3> <p>显示一个消息条，
选项见TS定义:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">lzynotice</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Alert<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> unkown<span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Alert</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Behavior</span>
  onHidden<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span> <span class="token comment">// Notice that click event will make notice auto hide.</span>
  <span class="token comment">// layout</span>
  position<span class="token operator">:</span> <span class="token string">'side'</span><span class="token operator">|</span><span class="token string">'center'</span><span class="token punctuation">,</span> <span class="token comment">// Position of display!</span>
  <span class="token comment">// View</span>
  content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Support HTML-Text !</span>
  semantic<span class="token operator">:</span> Semantic<span class="token punctuation">,</span> <span class="token comment">// Type of the display</span>
  duration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// range(0, 1-10); An integer multiplying power of 500 ms. Set 0 to wait until user touch it.</span>
  <span class="token comment">// actions, For advace content Match like lzy.</span>
  <span class="token function-variable function">onMatched</span><span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token operator">:</span> HTMLElement<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">unknown</span><span class="token punctuation">,</span> <span class="token comment">// Match susscess </span>
  <span class="token function-variable function">onMissed</span><span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token operator">:</span> HTMLElement<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">unknown</span><span class="token punctuation">,</span> <span class="token comment">// Match failed</span>
  match<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Css Selector Pattern.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Semantic</span> <span class="token operator">=</span> <span class="token string">'info'</span><span class="token operator">|</span><span class="token string">'success'</span><span class="token operator">|</span><span class="token string">'warning'</span><span class="token operator">|</span><span class="token string">'error'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="lzydialog"><a href="#lzydialog" class="header-anchor">#</a> lzydialog</h3> <p>显示一个对话框，
选项见TS定义:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">lzydialog</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>PopUp<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> unkown<span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">PopUp</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Behavior</span>
  onHidden<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span>
  <span class="token comment">// show: Boolean,</span>
  keepOuterClick<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
  <span class="token comment">// layout</span>
  position<span class="token operator">:</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token operator">|</span><span class="token string">'bottom'</span><span class="token operator">|</span><span class="token string">'center'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.center</span><span class="token template-punctuation string">`</span></span> <span class="token operator">|</span> <span class="token string">'center.center'</span><span class="token punctuation">,</span>
  <span class="token comment">// View</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Support HTML-Text !</span>
  semantic<span class="token operator">:</span> Semantic<span class="token punctuation">,</span> <span class="token comment">// Type of the display</span>
  <span class="token comment">// actions</span>
  actions<span class="token operator">:</span> PopUpAction<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Semantic</span> <span class="token operator">=</span> <span class="token string">'info'</span><span class="token operator">|</span><span class="token string">'success'</span><span class="token operator">|</span><span class="token string">'warning'</span><span class="token operator">|</span><span class="token string">'error'</span><span class="token operator">|</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">PopUpAction</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// As a button content</span>
  action<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span> <span class="token comment">// When choose the button</span>
  semantic<span class="token operator">:</span> Semantic<span class="token punctuation">,</span> <span class="token comment">// button display type.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="registershortcut"><a href="#registershortcut" class="header-anchor">#</a> registerShortcut</h3> <p>通过配置注册一个快捷键，注册的快捷键可通过指定名称供后续调用<code>alterShortcut</code>来达到快捷键自由更改的目的。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">ShortCut</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Unique key name for keyboard shortcut changes.</span>
  descriptions<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Add some description for us.</span>
  <span class="token function-variable function">invoke</span><span class="token operator">:</span> <span class="token punctuation">(</span>Event<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token comment">// callback function.</span>
  enable<span class="token operator">?</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span> <span class="token comment">// Whether the current shortcut parcel is actived</span>
  eventType<span class="token operator">:</span> <span class="token string">'keydown'</span> <span class="token operator">|</span> <span class="token string">'keyup'</span> <span class="token operator">|</span> <span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token comment">// The first one is default; </span>
  commonKey<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>BoardKey<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token comment">// A list of normal boardkey like `a`, `b`, `C`, `F1`...</span>
  statuKey<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>BoardstatuKey<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token comment">// A list of statu key Like `ctrl`,`alt`,`shift`</span>
  caseSensitive<span class="token operator">:</span> Boolean<span class="token punctuation">,</span> <span class="token comment">// wheather distinguished alpha case. default false.</span>
<span class="token punctuation">}</span>
<span class="token comment">// Definition</span>
<span class="token keyword">function</span> <span class="token function">registerShortcut</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ShortCut<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>例如注册一个快捷键为 <code>ctrl</code>+<code>B</code> ，功能为滚动到底部。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// `utility`为主题风格API功能库，`utils`为辅助函数库</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;toBottom&quot;</span><span class="token punctuation">,</span> <span class="token comment">// the name for index.</span>
  <span class="token literal-property property">descriptions</span><span class="token operator">:</span> <span class="token string">&quot;滚到见底！&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">commonKey</span><span class="token operator">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">statuKey</span><span class="token operator">:</span> <span class="token string">'ctrl'</span><span class="token punctuation">,</span>
  <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token parameter">eve</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 调用滚动控制函数 lyscrollTo</span>
    utils<span class="token punctuation">.</span><span class="token function">lyscrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// The impact of addPlayerHotkey will auto remove.</span>
utility<span class="token punctuation">.</span><span class="token function">registerShortcut</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>由于注册的快捷键默认全局有效，如果你想限定范围，需要在消除副作用的函数中调用<code>unregisterShortcut</code></p> <h3 id="unregistershortcut"><a href="#unregistershortcut" class="header-anchor">#</a> unregisterShortcut</h3> <p>通过注册的名称<code>name</code>禁用或者删除一个已激活的快捷键，如果该快捷键不存在将抛出一个错误。</p> <p>要检查该快捷键是否存在，可以调用<code>lookupShortcut</code>传递该名称进行检查。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">unregisterShortcut</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> remain<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token comment">// remain indicate the behavior is just disable this shortcut or delete all of its infos.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>接上面的例子，要禁用注册的滚动到底部的快捷键：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>utility<span class="token punctuation">.</span><span class="token function">registerShortcut</span><span class="token punctuation">(</span><span class="token string">&quot;toBottom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="lookupshortcut"><a href="#lookupshortcut" class="header-anchor">#</a> lookupShortcut</h3> <p>通过名称检查快捷键是否存在，不存在则返回<code>null</code>, 存在返回该快捷键的描述对象。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">lookupShortcut</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>快捷键存在不一定为当前激活状态，当前激活状态可由查询出来的快捷键对象的<code>enable</code>属性描述。</p></blockquote> <p>如果缺省传递参数或者传递空参数，则返回包含所有注册的快捷键对象的数组。</p> <h3 id="auiplayer"><a href="#auiplayer" class="header-anchor">#</a> auiplayer</h3> <p>该方法用于作用域穿透，以提供操控播放器及播放等的各种接口方法。</p> <p>接受一个回调，回调包含两个参数，回调的第一个参数将传递当前AuiPlayer所包含的DLPlayer实例对象，
用于方便直接对播放器进行操作。第二个参数是auiplayer补充方法对象，在不同的页面实例可能包含的方法不同。</p> <p>核心部分示例:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">customPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  utility<span class="token punctuation">.</span><span class="token function">auiplayer</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dlplayer<span class="token punctuation">,</span> auiplayer</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    dlplayer<span class="token punctuation">.</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 跳转至2分钟位置</span>
    auiplayer<span class="token punctuation">.</span><span class="token function">mute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 切换静音 </span>
    <span class="token keyword">const</span> shiftBack <span class="token operator">=</span> auiplayer<span class="token punctuation">.</span><span class="token function">speedShift</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 向上提速3挡播放(不超过+0.75)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dlplayer<span class="token punctuation">,</span> auiplayer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印出来具体查看</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>dlplayer对象是DLPlayer的实例。DLPlayer由<a href="https://github.com/DIYgod/DPlayer" target="_blank" rel="noopener noreferrer">DPlayer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>创改而来，其实例大部分API仍然和DPlayer相同, 当前可参考<a href="http://dplayer.js.org/guide.html" target="_blank" rel="noopener noreferrer">dplayer文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
auiplayer对象是对DLPlayer实例的进一步补充，包含对列表播放、弹幕调控等一系列操作方法。</p></blockquote> <h4 id="回调参数auiplayer包含方法"><a href="#回调参数auiplayer包含方法" class="header-anchor">#</a> 回调参数auiplayer包含方法：</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 加载指定index的播放列表的播放数据</span>
<span class="token keyword">function</span> <span class="token function">loadListData</span><span class="token punctuation">(</span>listID<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token comment">// 加载指定index的播放列表的播放信息</span>
<span class="token keyword">function</span> <span class="token function">toggleMetaList</span><span class="token punctuation">(</span>listID<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token comment">// 播放当前载入的播放列表中指定index(初始Index)的视频</span>
<span class="token keyword">function</span> <span class="token function">toggleVideo</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token comment">// 清空并载入弹幕</span>
<span class="token keyword">function</span> <span class="token function">applyDanmu</span><span class="token punctuation">(</span>options<span class="token operator">:</span> DLPlayerDanmaku<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 保持原有弹幕并装载新弹幕</span>
<span class="token keyword">function</span> <span class="token function">contactDanmu</span><span class="token punctuation">(</span>options<span class="token operator">:</span> DanmuContact<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调节播放器弹幕样式, 目前支持弹幕偏移时间、字体大小、速度、行间距</span>
<span class="token keyword">function</span> <span class="token function">danmuStyle</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>DanmuBulletStyle<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 切换弹幕显示与隐藏</span>
<span class="token keyword">function</span> <span class="token function">toggleDanmu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 载入vtt字幕亦或调整字幕CSS样式</span>
<span class="token keyword">function</span> <span class="token function">applySubtitle</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>DLPlayerSubtitle<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">/**
 * 切换播放倍速按档位的方式
 * @param delta 要切换的档位整数值, 正值提升速度，负值降低速度(一档大概为0.25)
 * @param baseline 指定基于基础速度多少来调整，默认不设定则基于当前播放速度. 指定范围(0.25*n, n=1,2,3...20)
 * @return { number } 返回基于base所成功调整的档位变化值的相反数用于恢复先前倍速。
 */</span>
<span class="token keyword">function</span> <span class="token function">speedShift</span><span class="token punctuation">(</span>delta<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> baseline<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token comment">// 切换静音与恢复</span>
<span class="token keyword">function</span> <span class="token function">mute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 聚焦播放器，需要传递一个(点击)事件</span>
<span class="token keyword">function</span> <span class="token function">focusIt</span><span class="token punctuation">(</span>$eve<span class="token operator">:</span> Event<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">DanmuBulletStyle</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  offsetTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// OffsetTime</span>
  scrollSpeed<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// The duration of scrolling danmu speed(per second).</span>
  fontsize<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// a valid CSS fontSize Expression.</span>
  fixedDuration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// The duration of top danmu bullet and bottom danmu bullet(per second).</span>
  orbitGap<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">DLPlayerDanmaku</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// url, allow Empty stirng to disable danmu.</span>
  addition<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Append danmu bullet url list.</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  token<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  maximum<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">DanmuContact</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  addition<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  bullets<span class="token operator">:</span> Bullet<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// The danmu bullet list of danmu Object.</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Bullet</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// 0:`right`, 1:`top`, 2:`bottom`; default: `right`</span>
  <span class="token comment">// Optional Decorations</span>
  color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// Use a number to represent the Hex color. like: orange=&gt;0xffa500, and in decimal it's 16753920</span>
  border<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// CSS style property string.</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">DLPlayerSubtitle</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// the .vvt type sutitle source URL. Accept empty string.</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Extensible CSS Style property.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><h3 id="addplayerhotkey"><a href="#addplayerhotkey" class="header-anchor">#</a> addPlayerHotkey</h3> <p>用于自定义添加Aui-Player播放器快捷键, 回调函数中的第一个参数将包含播放器对象实例供自定义操作。</p> <blockquote><p>该方法仅在 Aui-Player 初始化后销毁前存在且可用，无需手动消除影响，该方法添加的播放器快捷键会在播放器销毁时自动消除。</p></blockquote> <p>由于该方法依附于播放器存在的特殊性，我们需要借助事件系统来判断播放器是否初始化完成，AuiPlayer播放器初始化完成后会触发<code>auiplayer-mounted</code>事件。</p> <p>可以使用 <code>_isHappened(&quot;auiplayer-mounted&quot;)</code> 来判定当前事件是否发生即播放器是否已经初始化完成。
如果已经初始化完成直接调用<code>addPlayerHotkey</code>添加快捷键即可，
如果没有则添加监听到该事件发生：<code>_on(&quot;auiplayer-mounted&quot;, callback)</code> ,同时也要记得取消监听 <code>_off(&quot;auiplayer-mounted&quot;)</code></p> <p>一个来自 Fantasy 主题的完整使用示例模板如下，其功能是按'A'视频播放向前空降90s :</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$theme</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">utility<span class="token punctuation">,</span> utils<span class="token punctuation">,</span> <span class="token punctuation">{</span> revoke <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;jump90&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">descriptions</span><span class="token operator">:</span> <span class="token string">&quot;Anime分区视频播放前进90s&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">commonKey</span><span class="token operator">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>
    <span class="token comment">// dlplayer is the instance Object of DLPlayer</span>
    <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token parameter">dlplayer<span class="token punctuation">,</span> eve</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">const</span> nowTime <span class="token operator">=</span> dlplayer<span class="token punctuation">.</span>video<span class="token punctuation">.</span>currentTime<span class="token punctuation">;</span> <span class="token comment">// get current video playing time.</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>nowTime<span class="token operator">+</span><span class="token number">90</span> <span class="token operator">&lt;</span> dlplayer<span class="token punctuation">.</span>video<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">{</span>
        dlplayer<span class="token punctuation">.</span><span class="token function">seek</span><span class="token punctuation">(</span>nowTime <span class="token operator">+</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// call 'seek' method to set the playing time</span>
        <span class="token comment">// Given an dlplayer notice by calling 'notice' method </span>
        dlplayer<span class="token punctuation">.</span><span class="token function">notice</span><span class="token punctuation">(</span><span class="token string">&quot;向前速降了90s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">addIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    utility<span class="token punctuation">.</span><span class="token function">addPlayerHotkey</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// Pages have supported player.</span>
    <span class="token string">'/aui-player'</span><span class="token punctuation">,</span> 
    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">anime\/details\/\w+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// Support RegExp</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="addtoplaylist"><a href="#addtoplaylist" class="header-anchor">#</a> addToPlaylist</h3> <p>添加一个播放项目到播放列表。</p> <p>第一个参数指定要添加的项目或项目列表。
第二个参数指定要添加到的列表索引，缺省则添加到当前选中列表。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">addToPlaylist</span><span class="token punctuation">(</span>listItems<span class="token operator">:</span> PlayListItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">|</span> PlayListItem<span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span>

<span class="token keyword">type</span> <span class="token class-name">PlayListItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  quality<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>PlayQuality<span class="token operator">&gt;</span><span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// Extensible.</span>
  type<span class="token operator">?</span><span class="token operator">:</span> AuiPlayerSupportType<span class="token punctuation">,</span>
  thumb<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  danmaku<span class="token operator">?</span><span class="token operator">:</span> DLPlayerDanmaku<span class="token punctuation">,</span>
  subtitle<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token operator">|</span> DLPlayerSubtitle<span class="token punctuation">,</span> <span class="token comment">// .vvt type subtitle</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">PlayQuality</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  caption<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// The quality description like '1080P', '720P' </span>
  src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  type<span class="token operator">?</span><span class="token operator">:</span> AuiPlayerSupportType<span class="token punctuation">,</span> <span class="token comment">// The helper type pointer of video MSE type. Default is auto. </span>
  <span class="token comment">// Extensible.</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">DLPlayerDanmaku</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// main url. DPlayer/DLPlayer API type.</span>
  addition<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Append danmu url list to merge.</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  token<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  maximum<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">AuiPlayerSupportType</span> <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token operator">|</span> <span class="token string">'normal'</span><span class="token operator">|</span> <span class="token string">'hls'</span><span class="token operator">|</span> <span class="token string">'flv'</span><span class="token operator">|</span> <span class="token string">'dash'</span><span class="token operator">|</span> <span class="token string">'webtorrent'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">DLPlayerSubtitle</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// the .vvt type sutitle source URL. Accept empty string.</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Extensible CSS Style property.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="addplaylist"><a href="#addplaylist" class="header-anchor">#</a> addPlaylist</h3> <p>添加一个播放列表。第二个参数可指定是否禁用导入提示。</p> <p>返回添加成功的列表的索引。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">addPlaylist</span><span class="token punctuation">(</span>rawData<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>AuiPlayerMeta<span class="token operator">&gt;</span><span class="token punctuation">,</span> silent<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>

<span class="token keyword">type</span> <span class="token class-name">AuiPlayerMeta</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// The Drama headline title</span>
  list_title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// The origin play_list title.</span>
  playList<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>PlayListItem<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  infos<span class="token operator">:</span> <span class="token punctuation">{</span>
    cover<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// URL string</span>
    tags<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Video category tag.</span>
    desc<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// Description</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  playing<span class="token operator">:</span> <span class="token punctuation">{</span>
    danmakuSearch<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// For current drama danmaku Search.</span>
    pointer<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// The history play of current playing in playList; -1 to set non pointer.</span>
    time<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// The currentTime of point target video.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Extensible.</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// The internal type definition has been mentioned above↑.(#addToPlaylist) </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="utils"><a href="#utils" class="header-anchor">#</a> Utils</h2> <p>这一部分是共享的常用静态函数，很多从名称上就可以猜出它们的功能。</p> <p>在主题风格Script中试着灵活的运用它们，这能大大减小你的一些工作量。</p> <p>暂时无法一一解释这些函数的功能和作用，你可以去查看这一部分的源码以具体了解其功能：<a href="https://github.com/lozyue/AnimeSearcherUI/tree/main/src/utils" target="_blank" rel="noopener noreferrer">AnimeSearcherUI/Utils<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>可用函数列表：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token comment">// 类型判断</span>
  <span class="token string">&quot;is_Empty&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_Defined&quot;</span><span class="token punctuation">,</span> 
  <span class="token string">&quot;is_Number&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_Object&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_Array&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_String&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_Function&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_RegExp&quot;</span><span class="token punctuation">,</span> 
  <span class="token string">&quot;is_PlainObject&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_Promise&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is_Primitive&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 对象操作</span>
  <span class="token string">&quot;curveGet&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;curveSet&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;deepAssign&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;objectSupplement&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;deepSupplement&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;deepClone&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;objectRefresh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;deepRefresh&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 数组操作</span>
  <span class="token string">&quot;createArray&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mergeArray&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;toTrueArray&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;removeArrayItem&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;moveArrayItem&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;arrayShuffle&quot;</span><span class="token punctuation">,</span> 
  <span class="token string">&quot;randomItem&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 函数工厂</span>
  <span class="token string">&quot;getExportMethod&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;throttle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;debounce&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;throttBounce&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;getSingleton&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// URL操作相关</span>
  <span class="token string">&quot;getHashPath&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getURLQueries&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;addURLModifier&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;getCurrentAddress&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getHostName&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;isFileProtocol&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 其他</span>
  <span class="token string">&quot;arbitraryFree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;arbitraryWrap&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;toggleClass&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;clickToAction&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;fileExport&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;isInIframe&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;getBoundRect&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;inject_style&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;inject_script&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;addScrollListener&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;removeScrollListener&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;addMouseScrollListener&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;removeMouseScrollListener&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;onceClassAnimation&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;toggle_fullscreen&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;multiClassAnimation&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;documentReady&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;traceTopMatch&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;traceMultiTopMatch&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;getEventDelegate&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;copyInterceptor&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;copyTextToClipboard&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;copyToClipboard&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;copyToClipboard_compatible&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;dateFormatter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getPrettyTime&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;CONSTS&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;lyscrollTo&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;getCasualMode&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CasualMode&quot;</span><span class="token punctuation">,</span>
removeInDeposit
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h3 id="lyscrollto"><a href="#lyscrollto" class="header-anchor">#</a> lyscrollTo</h3> <p>灵活的控制页面滚动操作的函数，支持横向纵向滚动与自定义滚动timing-function。</p> <p>AnimeUI中几乎所有平滑滚动都由其提供支持。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">lyscrollTo</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ScrollOptions<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">ScrollOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  top<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// Set absolute destination.</span>
  offsetTop<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> offsetLeft<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// Set relative scroll offset</span>
  duration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token comment">// The scroll duration Time.</span>
  target<span class="token operator">:</span> <span class="token keyword">null</span><span class="token operator">|</span> HTMLElement<span class="token punctuation">,</span> <span class="token comment">// Specified scroll target Element.(that the top &amp; left will be noneffective)</span>
  scrollBox<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span> <span class="token comment">// The scroll container Element</span>
  easeTiming<span class="token operator">:</span> <span class="token keyword">null</span><span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>t<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">number</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Timing function.</span>
  highlight<span class="token operator">:</span> Boolean <span class="token operator">|</span> HTMLElement<span class="token punctuation">,</span> <span class="token comment">// To highlight the target.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="events"><a href="#events" class="header-anchor">#</a> Events</h2> <h3 id="animeui-events"><a href="#animeui-events" class="header-anchor">#</a> AnimeUI Events</h3> <p>使用<code>utility</code>中的事件API进行监听等操作。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> EventsList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'created'</span><span class="token punctuation">,</span><span class="token string">'mounted'</span><span class="token punctuation">,</span>
  <span class="token string">'storageCreated'</span><span class="token punctuation">,</span> <span class="token string">'storageMounted'</span><span class="token punctuation">,</span>
  <span class="token comment">// Preference</span>
  <span class="token string">&quot;systemVersionLoaded&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;preferSerieMounted&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;preferenceRegistered&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// Details</span>
  <span class="token string">&quot;animeDataLoaded&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;danmakuLoaded&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;danmuMatch&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// particular</span>
  <span class="token string">&quot;multiThemeLoaded&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;multiStyleApplied&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;multiBlendingApplied&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="dlplayer-events"><a href="#dlplayer-events" class="header-anchor">#</a> DLPlayer Events</h3> <p>可通过<code>utility.auiplayer()</code>传递一个回调，在回调参数中拿到dlplayer实例以操纵下列事件:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> EventsList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'abort'</span><span class="token punctuation">,</span>
  <span class="token string">'canplay'</span><span class="token punctuation">,</span>
  <span class="token string">'canplaythrough'</span><span class="token punctuation">,</span>
  <span class="token string">'durationchange'</span><span class="token punctuation">,</span>
  <span class="token string">'emptied'</span><span class="token punctuation">,</span>
  <span class="token string">'ended'</span><span class="token punctuation">,</span>
  <span class="token string">'error'</span><span class="token punctuation">,</span>
  <span class="token string">'loadeddata'</span><span class="token punctuation">,</span>
  <span class="token string">'loadedmetadata'</span><span class="token punctuation">,</span>
  <span class="token string">'loadstart'</span><span class="token punctuation">,</span>
  <span class="token string">'mozaudioavailable'</span><span class="token punctuation">,</span>
  <span class="token string">'pause'</span><span class="token punctuation">,</span>
  <span class="token string">'play'</span><span class="token punctuation">,</span>
  <span class="token string">'playing'</span><span class="token punctuation">,</span>
  <span class="token string">'progress'</span><span class="token punctuation">,</span>
  <span class="token string">'ratechange'</span><span class="token punctuation">,</span>
  <span class="token string">'seeked'</span><span class="token punctuation">,</span>
  <span class="token string">'seeking'</span><span class="token punctuation">,</span>
  <span class="token string">'stalled'</span><span class="token punctuation">,</span>
  <span class="token string">'suspend'</span><span class="token punctuation">,</span>
  <span class="token string">'timeupdate'</span><span class="token punctuation">,</span>
  <span class="token string">'volumechange'</span><span class="token punctuation">,</span>
  <span class="token string">'waiting'</span><span class="token punctuation">,</span>
  <span class="token string">'screenshot'</span><span class="token punctuation">,</span>
  <span class="token string">'thumbnails_show'</span><span class="token punctuation">,</span> <span class="token string">'thumbnails_hide'</span><span class="token punctuation">,</span>
  <span class="token string">'danmaku_show'</span><span class="token punctuation">,</span> <span class="token string">'danmaku_hide'</span><span class="token punctuation">,</span>
  <span class="token string">'danmaku_clear'</span><span class="token punctuation">,</span> <span class="token string">'danmaku_loaded'</span><span class="token punctuation">,</span>
  <span class="token string">'danmaku_send'</span><span class="token punctuation">,</span> <span class="token string">'danmaku_opacity'</span><span class="token punctuation">,</span>
  <span class="token string">'danmaku_load_start'</span><span class="token punctuation">,</span> <span class="token string">'danmaku_load_end'</span><span class="token punctuation">,</span>
  <span class="token string">'contextmenu_show'</span><span class="token punctuation">,</span> <span class="token string">'contextmenu_hide'</span><span class="token punctuation">,</span>
  <span class="token string">'notice_show'</span><span class="token punctuation">,</span> <span class="token string">'notice_hide'</span><span class="token punctuation">,</span>
  <span class="token string">'quality_start'</span><span class="token punctuation">,</span> <span class="token string">'quality_end'</span><span class="token punctuation">,</span>
  <span class="token string">'destroy'</span><span class="token punctuation">,</span>
  <span class="token string">'resize'</span><span class="token punctuation">,</span>
  <span class="token string">'fullscreen'</span><span class="token punctuation">,</span> <span class="token string">'fullscreen_cancel'</span><span class="token punctuation">,</span>
  <span class="token string">'webfullscreen'</span><span class="token punctuation">,</span> <span class="token string">'webfullscreen_cancel'</span><span class="token punctuation">,</span>
  <span class="token string">'subtitle_show'</span><span class="token punctuation">,</span> <span class="token string">'subtitle_hide'</span><span class="token punctuation">,</span> <span class="token string">'subtitle_change'</span><span class="token punctuation">,</span>
  <span class="token string">'settingchange'</span><span class="token punctuation">,</span> 
  <span class="token string">&quot;onplaynext&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h2 id="文档不完全可靠"><a href="#文档不完全可靠" class="header-anchor">#</a> 文档不完全可靠</h2> <p>这一部分的内容随AnimeUI版本变化的可能性非常大，
因此文档可能不是最新的，要验证具体的内容建议自行打印出来查看。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$theme</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">utility<span class="token punctuation">,</span> utils<span class="token punctuation">,</span> Enhance</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    utility<span class="token punctuation">,</span> utils<span class="token punctuation">,</span> Enhance
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>对于一些用法上的参考，你仍然可以去参考示例 <a href="https://github.com/lozyue/AnimeSearcherUI/tree/main/AnimeUI/themes/styles/fantasy" target="_blank" rel="noopener noreferrer">示例主题Fantasy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/AnimeSearcherUI/assets/js/app.d72c58fc.js" defer></script><script src="/AnimeSearcherUI/assets/js/2.35270449.js" defer></script><script src="/AnimeSearcherUI/assets/js/16.bcb4dc26.js" defer></script>
  </body>
</html>
