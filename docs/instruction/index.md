# 开始使用

AnimeUI是由 HTML、JavaScript、CSS 打造的Web应用程序，
可以运行在所有支持现代浏览器的平台上。

::: warning
即是程序的需要，也是为了更好的体验，均推荐使用较新版的Chrome或Firefox浏览器

浏览器兼容性参考: [浏览器兼容性参考](#browser-compatibility)
:::

## 运行模式

### 本地文件协议File:方式

为了减少走API代理的流量，默认使用浏览器本地文件协议`file:`可获得更稳定的跨站播放体验
但该模式下的主题系统需要API的支持，故需要正确配置服务端对于WebUI主题配置文件代理。


### 部署HTTP/HTTPS服务方式

Web应用程序自然是支持HTTP/HTTPS方式部署的，本身接口采用跨域请求设计，部署WebUI并无任何障碍。

需要注意的是对若对API服务进行了部署，
AnimeUI与API默认的通信接口可能需要进行修改。

AnimeUI与后端通信目前使用了两个接口：

- Web Socket 接口
- Ajax HTTP/HTTPS 通信接口 

在AnimeUI应用的设置项中均支持进行配置。并进行浏览器本地储存与API端Storage接口双重存储。

用应用自带的设置项进行设置在通信地址易发生变更的情况下较为方便。
但你也可以通过直接修改程序源码的方式直接覆盖默认配置，
方法如下：

1.进入Web端AnimeUI程序文件夹（取决于安装位置）
2.打开文件 /js/config.*.js 
3.搜索找到 `baseURL`, `$baseSocket` 其分别对应 HTTP/HTTPS 通信地址、WebSocket 通信地址
4.将冒号后面的值进行相应修改，注意不要忘了保留地址协议。

此外，不同的部署方式会导致浏览器跨域策略发生不同的变化，
使用HTTP/HTTPS方式可能有更多的图片/视频资源需要走服务端代理
但同时也可以获得导出视频截图等部分功能权限。



## 全局子主题

为了提高主题的易用性和保持对一般用户的友好性，AnimeUI提供了一个内置全局子主题。

### 配置子主题

在主题根配置JSON文件中，有一个 `internal` 属性
```json
{
  "internal": {
    "title": "主题内嵌相关配置",
    "hint": "默认无需修改",
    "withCustom": "custom"
  }
}
```
在这个属性内有一个 `withCustom` 属性，它指定了一个全局的用户子主题名

同时这个主题名也是开发主题时取名的保留字段。这个属性并不建议修改。

全局子主题本质也是一个主题，你可以在 `themes/blendings`和`themes/styles` 看到一个 `custom` 的文件夹

这就是自带的全局子主题 `custom` 预设。

打开里面你大概会发现里面内容什么都没有。

**但在里面做的所有设定，都会以比其他主题更高的优先级呈现效果**

估计你已经猜到了，如果你并不想完整的做一个主题共享出来,
或是仅仅想对别人做的主题进行部分修改，
那么在这个预设全局子主题中实现将会是很好的方式。

在主题更新或者AnimeUI系统更新时，你便只需直接拷贝覆盖custom主题而无需做任何配置。

::: warning Tips
全局子主题 不具有继承特效，也即 `dark` 选项 在全局子主题中是无效的。
:::


### 禁用子主题

因为无论 预设子主题 中有没有填充内容，主题系统都会默认加载这个主题。

如果你想禁用它 (以便于省下那么一个网络请求的话)

将其配置为`false`即可.

```json
// 禁用全局子主题
{
  "internal": {
    "withCustom": false
  }
}
```


## Addition

### Browser Compatibility

不同内核浏览器版本要求如下：

| Browser     | Version Required | Note     |
| ----------- | ---------------- | -------- |
| Chrome      | 70+    |          |
| Firefox     | 82+    | 滚动条样式定制无效         |
| IE          | 11+    | 即使 IE 11能够运行程序但是在部分细节上（如滚动会存在体验缺失）|
| Safari      | 56+    | 平滑滚动等细节部分缺失  |




