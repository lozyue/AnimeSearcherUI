(self["webpackChunkanimeui"]=self["webpackChunkanimeui"]||[]).push([[488],{419:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return A}});var s=o(6252);const n={class:"adorements",ref:"adoreBox"};function i(t,e,o,i,r,a){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"#adorementBox"},[(0,s._)("div",n,null,512)])}var r=o(614),a=o(5029),l=o(214),c=o(3176);const h=!1;class d{constructor(t,e=null){this.options=null,this.scrollMountIndex=-1,this.options=t,this.$el=null,this.styleStr="",e&&(d.$containerBox=e),this.rectReset=(0,l.boundRectReset)(),this.init()}static listeningScroll(t,e={throttleTime:250}){const o=d,s=t=>{o.scrollElementLine.forEach((t=>{t.scrollCalc(),t.transformCalc(),t.styleStr=t.generateDisplay(),t.styleStr+=t.generateTransform(),t.updateInlineStyle()}))};let n;n=e["reduce"]?()=>{e["reduce"](s)}:(0,r.throttle)(s,e.throttleTime),(0,l.addScrollListener)(t,n,!1)}init(){this.parseOptions(),this.createElement(),this.styleStr=this.generateDisplay()}destroy(){d.scrollElementLine.splice(this.scrollMountIndex,1),this.$el.remove()}setElement(t){this.$el=t}mountScrolling(){return this.scrollMountIndex=d.scrollElementLine.push(this)-1,this.scrollMountIndex}createElement(){let t=document.createElement("div");this.$el=t,t.classList.add("adore"),d.$containerBox.append(t)}transformEnd(){c.DEBUG&&h&&console.log(this.$el,"transform end!")}scrollCalc(t=document.scrollingElement,e=!0){const o=this.rectReset(d.$containerBox,!0);return t||(t=document.children[0]),c.DEBUG&&h&&console.log(t.scrollTop,o.height),this.options.rate=t.scrollTop/o.height,e&&setTimeout((()=>{this.scrollCalc(document.scrollingElement,!1)}),99),this.options}transformCalc(){let t,e,o,s;this.rectReset(d.$containerBox,!0);var n=t=>!(!(0,r.is_Defined)(this.options[t])||!(0,r.is_Defined)(this.options.over[t]))&&this.options.rate*(this.options.over[t]-this.options[t]);return t=n("left"),e=n("top"),o=n("rotate")||0,s=n("scale")+this.options.scale||1,this.options._transx=t,this.options._transy=e,this.options._rotation=o,this.options._scalation=s,this.options}parseOptions(){return this.calc_edges(),this.options}generateDisplay(){const t=["image","origin","content","width","height","top","left"],e={image:t=>`background-image:url(${t});`,origin:t=>`transform-origin:${t||"center"};`,content:t=>(this.$el.innerHTML=t,"")};let o="";return t.forEach(((t,s,n)=>{if(!this.options[t])return;let i=e[t];o+=i?i(this.options[t]):`${t}:${this.options[t]+"px"};`})),o}generateTransform(){let t="";return t+=`transform:scale(${this.options._scalation}) rotate(${this.options._rotation}deg) translate(${this.options._transx}px,${this.options._transy}px);`,t}reset(){this.rectReset(d.$containerBox)}updateInlineStyle(){this.$el.setAttribute("style",this.styleStr)}calc_edges(){this.options.over||(this.options.over=Object.create(null));const t=["top","right","bottom","left"],e=this.rectReset(d.$containerBox);let o=[];t.forEach((t=>{(0,r.is_Number)(this.options[t])&&o.push(t)}));let s=!0,n=!0;if(o.forEach((t=>{["top","bottom"].indexOf(t)>-1&&(s=!1),["left","right"].indexOf(t)>-1&&(n=!1)})),s){const t=.9;this.options.top=(0,a.pB)(e.height,t)}if(n){const t=.9;this.options.left=(0,a.pB)(e.width,t)}return c.DEBUG&&h&&console.log(e),this.complimentBoundings(this.options,e),t.forEach((t=>{o.indexOf(t)>-1&&!this.options.over[t]&&(this.options.over[t]=0)})),this.complimentBoundings(this.options.over,e),this.options}complimentBoundings(t,e){return Object.keys(t).forEach((o=>{switch(o){case"top":t["bottom"]||(t["bottom"]=e.height-t.top);case"bottom":t["top"]||(t["top"]=e.height-t.bottom);case"left":t["right"]||(t["right"]=e.width-t.left);case"right":t["left"]||(t["left"]=e.width-t.right)}})),t}}d.scrollElementLine=[];var u={name:"adorement",data:()=>({chartlet:[]}),computed:{},methods:{addAdorement(t){const e=new d(t,this.$refs.adoreBox);var o={...t,_adorementIns:e};let s=this.chartlet.push(o)-1;this.$nextTick((()=>{e.setElement(this.$refs.adoreBox.children[s]),e.mountScrolling(),e.updateInlineStyle()}))},removeAdorement(t){const[e]=this.chartlet.splice(t,1);e._adorementIns.destroy()}},created(){},mounted(){const t=this,e=t.$magic.animeQueue;let o=(0,r.once)((t=>{e.registerHook({name:"scroll_calc",once:!0,debounce:!0,actions:()=>{t()}})}));d.listeningScroll(document,{reduce:function(t){o(t),e.bubble("scroll_calc"),e.find("scroll_calc")>-1&&e.bubble("scroll_calc",!0)},throttleTime:250}),this.$magic.utils.addToInterface(this,"addAdorement",!0),this.$magic.utils.addToInterface(this,"removeAdorement",!0)}};o(6049);u.render=i;var A=u},1470:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return h}});var s=o(6252),n=o(3577),i=o(9963);function r(t,e,o,r,a,l){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"#bg-layer"},[(0,s.wy)((0,s._)("div",{class:(0,n.C_)(t.getComputedClass)},null,2),[[i.F8,t.isShow]])])}var a=o(614);const l={name:"backgroundProvider",data:()=>({isShow:!1,classPackList:[]}),computed:{getComputedClass(){const t="background",e=this.classPackList[this.classPackList.length-1]||[];return e.reduce(((t,e,o)=>(t+=" ",(0,a.is_String)(e)?t+=e:(0,a.is_Array)(e)?t+=e.join(" "):Object.keys(e).filter((t=>e[t])).join(" "),t)),t)}},methods:{showBackground(t=!0){this.isShow=t},addClassList(t){const e=(0,a.arbitraryWrap)(t);return this.classPackList.push(e),e},removeClassList(t=null,...e){if(!t)return this.classPackList.splice(-1)[0]||null;(0,a.removeArrayItem)(this.classPackList,t)}},created(){const t=this.$magic.utils.addToInterface;t(((t,e=!1)=>{e?this.removeClassList(t):this.addClassList(t)}),"setBackgroundClass")},mounted(){this.showBackground()}};var c=l;o(8877);c.render=r;var h=c},8685:function(t,e,o){"use strict";o.r(e);var s=o(4015),n=o.n(s),i=o(3645),r=o.n(i),a=r()(n());a.push([t.id,".adorements{position:absolute;top:0;bottom:0;left:0;right:0}.adorements div.adore{position:fixed;width:56px;height:56px;transition:transform .8s ease-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-position:50%;background-size:cover;background-repeat:no-repeat;will-change:transform}","",{version:3,sources:["webpack://./src/integration/multi-theme/lyui/adorement/adorements.vue"],names:[],mappings:"AACA,YACE,iBAAA,CACA,KAAA,CAAA,QAAA,CACA,MAAA,CAAA,OAAA,CACA,sBACE,cAAA,CACA,UAAA,CACA,WAAA,CACA,iCAAA,CACA,kCAAA,CAAA,0BAAA,CACA,uBAAA,CACA,qBAAA,CACA,2BAAA,CACA,qBAAA",sourcesContent:["\r\n.adorements{\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  div.adore{\r\n    position: fixed;\r\n    width: 56px;\r\n    height: 56px;\r\n    transition: transform 0.8s ease-out;\r\n    backface-visibility: hidden;\r\n    background-position: center center;\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    will-change: transform;\r\n  }\r\n}\r\n"],sourceRoot:""}]),e["default"]=a},2713:function(t,e,o){"use strict";o.r(e);var s=o(4015),n=o.n(s),i=o(3645),r=o.n(i),a=r()(n());a.push([t.id,".background{position:fixed;top:0;bottom:0;left:0;right:0;z-index:-1;background:transparent}","",{version:3,sources:["webpack://./src/integration/multi-theme/lyui/backgroundProvider/bg-provider.vue"],names:[],mappings:"AACA,YACE,cAAA,CACA,KAAA,CAAA,QAAA,CACA,MAAA,CAAA,OAAA,CACA,UAAA,CACA,sBAAA",sourcesContent:["\r\n.background{\r\n  position: fixed;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  z-index: -1;\r\n  background: transparent;\r\n}\r\n"],sourceRoot:""}]),e["default"]=a},6049:function(t,e,o){var s=o(8685);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=o(5346).Z;n("0e2680cb",s,!0,{sourceMap:!0,shadowMode:!1})},8877:function(t,e,o){var s=o(2713);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=o(5346).Z;n("ffcab7f2",s,!0,{sourceMap:!0,shadowMode:!1})}}]);