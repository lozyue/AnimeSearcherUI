(self["webpackChunkAnimeUI"]=self["webpackChunkAnimeUI"]||[]).push([[63],{53090:function(e,t,a){"use strict";a.a(e,(async function(e){var i=a(48534),r=a(95082),n=(a(35666),a(74916),a(64765),a(68309),a(23123),a(38862),a(92222),a(56598)),o=a(38979),l=a(97117),d=a(52983),s=a(89745),c=a(23176),u=a(35583),p=a(486),m=a(93644),f=a(93112),g=a(91816),y=e([g,o]);[g,o]=y.then?await y:y;var h=["pink","purple","green","blue","orange","cream"],v=~~(Math.random()*h.length);t["Z"]=(0,n.defineComponent)({name:"AuiPlayer",props:["animeTemp"],components:{"animeui-home":l.Z,"player-region":o.Z,"list-view":f.Z,"player-guide":d.Z,"multi-list-editor":m.Z},setup:function(e,t){t.emit;var a=(0,n.getCurrentInstance)(),i=a.proxy,o=i.$magic;c.DEBUG&&(window["AuiPlayer"]=i),(0,n.onUnmounted)((function(){window.document.title=c.DocumentDefaultTitle,o.utility.clearNotice(!1)}));var l=(0,n.reactive)({title:"",description:"",category:[],cover:"",module:"",danmaku:{search:"",danmuList:[]}}),d=(0,n.ref)(!1),u=(0,n.ref)(!0);(0,n.onMounted)((function(){d.value=!0,u.value=!0,(0,n.watchEffect)((function(){u.value&&i.$refs.playerRegion.getDlpIns().pause()}));var e=i.$refs.playerRegion;(0,n.watchEffect)((function(){l.danmaku.danmuList=e.videoPlaying.danmuList})),(0,n.watch)(e.danmakuStatue,(function(e,t){l.danmaku.search=e.search,(0,s.curveGet)(i,["multiMeta",i.playing.listIndex])&&(0,s.curveSet)(i,["multiMeta",i.playing.listIndex,"playing","danmakuSearch"],e.search)}))}));var m=(0,p.N)({$magic:o,AuiPage:i},{playingListHostName:"playerRegion",useCache:!0}),f=(0,g.N)({_self:i,$magic:o,getDlpIns:function(){return i.$refs.playerRegion.getDlpIns()},animeMeta:l},{playingListHostName:"playerRegion",limit:10,rootName:"auiplayer-hstr",matchMode:"name",extendRecords:[]});(0,n.onUnmounted)((function(){o._resetCounter("auiMetaLoaded")})),o._on("onMetaDataInit",(function(){if(!o._isHappened("auiMetaLoaded"))return!1;f.stopRecorder()})),o._on("onListDataLoad",(function(){if(!o._isHappened("auiMetaLoaded"))return!1;f.recorderSetup()}));var y=function(e){var t="";for(var a in e)""!==e[a]&&(t+="\n    "+a+': "'+e[a]+'",');return t};return(0,r.Z)((0,r.Z)((0,r.Z)({animeMeta:l,showGuide:u,renderGuide:d},m),f),{},{ConjunctCode:y})},mounted:function(){var e=this;window.document.title="AuiPlayer",(0,u.isInIframe)()&&this.$router.isReady().then((function(){e.animeTemp.isMobile=document.body.offsetWidth<567;var t=e.$refs.playerRegion.getLzyplayer().$el.classList;t.add("webfull"),t.add("lzyplayer-iframe"),(0,u.inject_style)("html{overflow:hidden!important;}.aui-popup{z-index:16!important;}#theme-skin{z-index:0!important;}","",{class:"aui-in-iframe"});var a={name:"Unnamed",src:"",type:"auto",thumb:"",title:p.$,subtitle:"",danmu:"",webfull:!1},i=e.$route.query,r=!1;for(var n in i)for(var o in a)if(n===o){switch(o){case"danmu":(0,s.curveSet)(a,["danmaku","address"],i[n]),delete a.danmu;break;case"webfull":var l=e.$refs.playerRegion.getDlpIns();l.fullScreen.request("web"),delete a.webfull;break;case"src":if(!i[o])break;r=!0;default:a[o]=i[n];break}break}if(r){var d=e.$magic.utility.addPlaylist({title:a.title,list_title:"URLQuery",playList:[a],playing:{danmakuSearch:a.title||""}});e.showGuide=!1,e.loadListData(d),e.toggleVideo(0)}})),this.$magic._trigger("auiMetaLoaded",this.animeMeta),this.multiMeta[this.showing.playListID]&&this.loadListData(this.showing.playListID)},methods:{themeColorRandom:function(e){return"--v-".concat(h[(v+e)%h.length])},toggleListVideo:function(e,t,a){this.showing.playListID=e,this.loadListData(e),this.toggleVideo(t,a)},toggleVideo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=~~e;for(var r=this.$refs.playerRegion.playingList,n=0;n<r.length;n++)if(e===r[n].id)break;if(n>=r.length)throw c.DEBUG&&console.log({playID:n,playingList:r,index:e}),new Error("Unknow playing error with index of list: ".concat(n));var o={index:n,preplay:function(i){c.DEBUG&&console.log("pre-play with params:",i);var r=i.playerRegion;a.preplay&&a.preplay(i),t.showGuide=!1,r.videoPlaying.isPrepared=!0,t.playing.epiIndex=e},postplay:function(){var e=(0,i.Z)(regeneratorRuntime.mark((function e(i){var r,n,o,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.dlpIns,i.dlpWrap,i.lzyplayer,r=i.playerRegion,n=i.playingList,o=i.index,l=n[o],d={name:l.name,episodeNum:r.$refs.episodeBox.playingIndex},r.getLzyplayer().relocatePlayer(),r.startToMatchDanmu(d),i.playerRegion.videoPlaying.isPrepared&&t.$magic.utility.clearNotice(),a.postplay&&a.postplay(i),c.DEBUG&&console.log("post-play with params:",i);case 8:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}(),alterOption:function(t,a){c.DEBUG&&console.log("to Alter the options",{options:t,target:a,index:e})}};this.$refs.playerRegion.playIt(o)},toAddListData:function(){var e=this.addListData.apply(this,arguments);(0,s.curveGet)(this,"$refs.playerRegion.videoPlaying.isPrepared".split("."))||this.loadListData(e)},example:function(e){var t=this.$refs.playerGuide,a=t.editItem;switch(e){case"normal":a.name="光るなら - Goose house",a.src="https://api.dogecloud.com/player/get.mp4?vcode=5ac682e6f8231991&userId=17&ext=.mp4",a.type="auto",a.danmaku.address="https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json",a.subtitle="https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt";break;case"webtorrent":a.name="Sintel",a.src="magnet:?xt=urn:btih:08ada5a7a6183aae1e09d831df6748d566095a10&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F&xs=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2Fsintel.torrent",a.type="webtorrent";break;case"hls":a.name="光るなら m3u8",a.src="https://api.dogecloud.com/player/get.m3u8?vcode=5ac682e6f8231991&userId=17&ext=.m3u8",a.type="hls",a.danmaku.address="https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json",a.subtitle="https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt";break}this.$refs.playerRegion.getLzyplayer().relocatePlayer(),this.showGuide=!0},toExportListMeta:function(){var e=this;this.$magic.utility.lzydialog({title:"导出播放列表",content:"确定导出当前选择的播放列表数据？<br><br><hr><i class='text-grey' style='font-size:0.875rem'>建议先编辑好播放列表信息。导出的播放列表可用于再次导入AuiPlayer</i>",actions:[{action:function(){e.exportListMeta()},text:"确定",semantic:"success"},{}],semantic:"info"})},exportListMeta:function(){var e=this.multiMeta[this.showing.playListID];if(e&&!(0,s.is_Empty)(e)){var t=e;(0,u.fileExport)(JSON.stringify(t),"".concat(t.title,"-").concat(t.list_title,".json"),"application/json"),this.$magic.utility.lzynotice({content:"播放列表导出成功!",position:"center",semantic:"success"})}else this.$magic.utility.lzynotice({content:"列表为空!",position:"center",semantic:"error"})}}})}))},860:function(e,t,a){"use strict";a.a(e,(async function(e){a.r(t);var i=a(57924),r=a(39070),n=(a(77620),a(83744)),o=e([r]);r=(o.then?await o:o)[0];const l=(0,n.Z)(r.Z,[["render",i.s]]);t["default"]=l}))},93644:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var i=a(56598),r={class:"editor-body"},n={class:"list-headline"},o=(0,i.createElementVNode)("label",{for:"editor-name"},"剧标题：",-1),l=(0,i.createElementVNode)("label",{for:"editor-list_title"},"列表名：",-1),d={class:"list-playing"},s=(0,i.createElementVNode)("label",{for:"editor-danmaku-search"},"弹幕库搜索词：",-1),c={class:"list-info"},u=(0,i.createElementVNode)("label",{for:"editor-tags"},"标签：",-1),p=(0,i.createElementVNode)("label",{for:"editor-cover"},"封图：",-1),m=(0,i.createElementVNode)("label",{for:"editor-desc"},"简介：",-1),f=(0,i.createElementVNode)("div",null," to developing... ",-1);function g(e,t){return(0,i.openBlock)(),(0,i.createElementBlock)("div",r,[(0,i.createElementVNode)("div",n,[(0,i.createElementVNode)("span",null,[o,(0,i.withDirectives)((0,i.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.listMeta.title=t}),type:"text",id:"editor-name"},null,512),[[i.vModelText,e.listMeta.title]])]),(0,i.createElementVNode)("span",null,[l,(0,i.withDirectives)((0,i.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.listMeta.list_title=t}),type:"text",id:"editor-list_title"},null,512),[[i.vModelText,e.listMeta.list_title]])])]),(0,i.createElementVNode)("div",d,[(0,i.createElementVNode)("div",null,[s,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",id:"editor-danmaku-search","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.listMeta.playing.danmakuSearch=t})},null,512),[[i.vModelText,e.listMeta.playing.danmakuSearch]])])]),(0,i.createElementVNode)("div",c,[(0,i.createElementVNode)("div",null,[u,(0,i.withDirectives)((0,i.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.viewTags=t}),type:"text",id:"editor-tage",placeholder:"以空格或者逗号隔开"},null,512),[[i.vModelText,e.viewTags]])]),(0,i.createElementVNode)("div",null,[p,(0,i.withDirectives)((0,i.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.listMeta.infos.cover=t}),type:"text",id:"editor-cover",placeholder:"填写封面链接"},null,512),[[i.vModelText,e.listMeta.infos.cover]])]),(0,i.createElementVNode)("div",null,[m,(0,i.withDirectives)((0,i.createElementVNode)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.listMeta.infos.desc=t}),id:"editor-desc",rows:"6",cols:"1000",maxlength:"2400",placeholder:"建议150-250字"},null,512),[[i.vModelText,e.listMeta.infos.desc]])])]),f])}a(69600),a(74916),a(23123),a(15306);var y=(0,i.defineComponent)({name:"multiListEditor",inheritAttrs:!1,props:{listMeta:{type:Object}},setup:function(e,t){var a=t.emit,r=(0,i.ref)(e.listMeta.infos.tags||[]),n=(0,i.computed)({get:function(){return r.value.join(" ")},set:function(t){r.value=(t+"").replace(/[,\s，]/g,",").split(","),e.listMeta.infos.tags=r.value,a("updata:listMeta",e.listMeta)}});return{viewTags:n}}}),h=(a(22748),a(83744));const v=(0,h.Z)(y,[["render",g]]);var x=v},52983:function(e,t,a){"use strict";a.d(t,{Z:function(){return L}});var i=a(56598),r=a(46769),n=(0,i.createElementVNode)("div",{style:{flex:"4 4 auto"}},null,-1),o={class:"guide-upload"},l={for:"guide-file"},d=(0,i.createTextVNode)("mdi-cloud-upload"),s=(0,i.createElementVNode)("h6",null,"导入播放列表",-1),c=(0,i.createElementVNode)("h4",{class:"",style:{padding:"0.5em 0"}},"或者填入播放链接",-1),u={class:"guide-input"},p=(0,i.createTextVNode)("mdi-plus-circle-outline"),m=(0,i.createElementVNode)("div",{style:{flex:"9 9 auto"}},null,-1),f=(0,i.createTextVNode)("mdi-close-thick");function g(e,t){var a=(0,i.resolveComponent)("select-field"),g=(0,i.resolveDirective)("remove-animation");return(0,i.openBlock)(),(0,i.createBlock)(i.Teleport,{to:"#dlplayer"},[(0,i.createVNode)(i.Transition,{name:"dropIn",persisted:""},{default:(0,i.withCtx)((function(){return[(0,i.withDirectives)((0,i.createElementVNode)("div",{ref:"field",onDrop:t[5]||(t[5]=function(){return e.onDrop&&e.onDrop.apply(e,arguments)}),class:(0,i.normalizeClass)(["player-guide","dropIn-move",{"dropIn-enter-from":!e.show}]),onDragenter:t[6]||(t[6]=function(){return e.onDragenter&&e.onDragenter.apply(e,arguments)}),onDragover:t[7]||(t[7]=function(){return e.onDragover&&e.onDragover.apply(e,arguments)}),onDragleave:t[8]||(t[8]=function(){return e.onDragleave&&e.onDragleave.apply(e,arguments)}),onContextmenu:t[9]||(t[9]=(0,i.withModifiers)((function(){}),["stop"]))},[n,(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("input",{type:"file",name:"guide-file",id:"guide-file",hidden:"",onChange:t[0]||(t[0]=function(){return e.fileChange&&e.fileChange.apply(e,arguments)})},null,32),(0,i.createElementVNode)("label",l,[(0,i.createVNode)(r.t,{size:"45",class:""},{default:(0,i.withCtx)((function(){return[d]})),_:1}),s])]),c,(0,i.createElementVNode)("div",u,[(0,i.createVNode)(a,{class:"guide-type-box",modelValue:e.editItem.type,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editItem.type=t}),styles:{label:null},items:[{text:"自动类型",value:"auto"},"normal","hls","flv","webtorrent","dash"],attributes:{id:"guide-input-type"}},null,8,["modelValue"]),(0,i.withDirectives)((0,i.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editItem.src=t}),type:"text",name:"guide-text",id:"guide-text",placeholder:"video url",onKeydown:t[3]||(t[3]=(0,i.withKeys)((function(){return e.toAddingInList&&e.toAddingInList.apply(e,arguments)}),["enter"]))},null,544),[[i.vModelText,e.editItem.src]]),(0,i.createVNode)(r.t,{class:"guide-input-add",title:"添加至列表",onClick:e.toAddingInList},{default:(0,i.withCtx)((function(){return[p]})),_:1},8,["onClick"])]),m,(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("button",{class:(0,i.normalizeClass)(["close-guide",{"rotate-it":!!e.show}]),onClick:t[4]||(t[4]=function(t){return e.$emit("closeGuide"),t.currentTarget.classList.add("rotate-it")}),title:"隐藏"},[(0,i.createVNode)(r.t,null,{default:(0,i.withCtx)((function(){return[f]})),_:1})],2)),[[g,"rotate-it"]])],34),[[i.vShow,e.show]])]})),_:1})])}a(74916),a(77601),a(73210),a(68309);var y=a(23176),h=a(35583),v=a(72595),x={class:"aui-select-field"},b=["for"],w=["disabled","value","id"],V=["value"];function N(e,t,a,r,n,o){return(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("div",x,[(0,i.withDirectives)((0,i.createElementVNode)("label",{for:e.attributes.id},(0,i.toDisplayString)(e.styles.label),9,b),[[i.vShow,e.styles.label]]),(0,i.createElementVNode)("select",{disabled:e.disabled,onChange:t[0]||(t[0]=function(){return e.updateValue&&e.updateValue.apply(e,arguments)}),value:e.modelValue,id:e.attributes.id},[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.items,(function(e,t){return(0,i.openBlock)(),(0,i.createElementBlock)("option",{key:t,value:e.value||e+""},(0,i.toDisplayString)(e.text||e),9,V)})),128))],40,w)])),[[v.H]])}var k=(0,i.defineComponent)({name:"aui-number-field",props:{modelValue:{type:String,default:0},modelModifiers:{default:function(){return{}}},items:{type:Array,default:[]},disabled:{type:Boolean,default:!1},validate:{type:Function,default:function(){return!0}},styles:{type:Object,default:{}},attributes:{type:Object,default:{}}},emits:{"update:modelValue":function(e){return!0}},setup:function(e,t){t.attrs,t.slots;var a=t.emit,i=function(t){var i=e.validate(t);i&&a("update:modelValue",t)};i(e.modelValue);var r=function(e){var t=e.target.value;i(t)};return{updateValue:r}}}),E=(a(6504),a(83744));const D=(0,E.Z)(k,[["render",N]]);var A=D,F=(0,i.defineComponent)({name:"playerGuide",inheritAttrs:!1,props:{show:Boolean},components:{"select-field":A},emits:{addListData:function(e){return!0},addToList:function(e,t){return!0},closeGuide:function(){return!0}},setup:function(e,t){var a=t.emit,r=(0,i.getCurrentInstance)(),n=r.proxy,o=(n.$magic,(0,i.reactive)({droping:!1})),l=(0,i.reactive)({src:"",name:"",type:"auto",danmaku:{address:""},subtitle:""}),d=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=/\/json/;if(y.DEBUG&&console.log(i),r.test(i.type)){var n=new FileReader;n.onload=function(e){var t,i=null===(t=e.target)||void 0===t?void 0:t.result;try{var r=JSON.parse(i+"");a("addListData",r)}catch(n){console.error(n)}},n.readAsText(i)}}},s=function(e){var t=e.target,a=t.files;d(a)},c=function(e){var t=e.target;t.classList.add("field-drapover"),y.DEBUG&&console.log("dragEnterd!"),e.preventDefault()},u=function(e){y.DEBUG&&console.log("dragOvering!"),e.preventDefault()},p=function(e){y.DEBUG&&console.log("dragLeaved!",e);var t=n.$refs.field;(0,h.traceTopMatch)(e.relatedTarget||e.target,[function(){y.DEBUG&&console.log("mathched"),e.preventDefault()},function(e){y.DEBUG&&console.log("dismathched"),t.classList.remove("field-drapover")}],(function(e,a){return y.DEBUG&&console.log({el:e,times:a}),0===a&&e===t||e===t}),4)},m=function(e){var t=e.target;e.stopPropagation(),e.preventDefault(),y.DEBUG&&console.log("dragDropped!",e);var a=e.dataTransfer;d(a.files),t.classList.remove("field-drapover")},f=function(){if(l.src=l.src.trim(),!l.src)return n.$magic.utility.lzynotice({content:"请填写视频URL",semantic:"warning"}),!1;n.$magic.utility.lzydialog({title:"补充信息",content:'<label for="toaddinlist">设定名称：</label><input style="border-bottom: 1px solid rgb(var(--v-theme-on-background));" id="toaddinlist" type="text" placeholder="video name" value="'.concat(l.name,'" autofocus><br><div style="margin-top:0.75em;font-size:0.875rem">视频名称可用于自动弹幕匹配的匹配词，也用于导出播放列表。</div>'),actions:[{text:"完成",action:function(e){var t;l.name=null===e||void 0===e||null===(t=e.querySelector("input"))||void 0===t?void 0:t.value.trim(),a("addToList",l)},semantic:"success"},{text:"取消",semantic:"none"}],onHidden:function(){l.src="",l.name="",l.danmaku={address:""},l.subtitle=""},semantic:"info"})};return{status:o,editItem:l,fileChange:s,onDrop:m,onDragenter:c,onDragleave:p,onDragover:u,toAddingInList:f}}});a(74461);const M=(0,E.Z)(F,[["render",g]]);var L=M},39798:function(e,t,a){"use strict";a.r(t);var i=a(8081),r=a.n(i),n=a(23645),o=a.n(n),l=o()(r());l.push([e.id,'#aui-player .aui-player-header{padding:.75em 1em;text-align:right;display:flex;justify-content:flex-end;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#aui-player .aui-player-header>span:first-child{padding:.25em .375em;display:flex;align-items:center;border-bottom:3px solid #ffffffb0;border-radius:var(--v-layer-md-radius);border-bottom-right-radius:unset;background:#ffffffb0 none repeat scroll 0 0;color:rgb(var(--v-theme-primary))}#aui-player .aui-player-header>span:last-child{padding:.25em;border-bottom:3px solid #ffffffb0;color:rgb(var(--v-theme-secondary))}#aui-player .detail-meta{position:relative;margin-top:2em;display:flex;justify-content:space-evenly;flex-wrap:wrap;align-items:flex-start;align-content:flex-start}#aui-player .detail-meta .cover{width:20%;padding:.875em;flex-grow:0;flex-shrink:0}#aui-player .detail-meta .cover>div{border:3px solid rgba(var(--v-theme-surface),var(--v-layer-opacity));border-radius:var(--v-layer-md-radius)}#aui-player .detail-meta .cover .v-img img.v-img__img{-o-object-fit:fill;object-fit:fill}#aui-player .detail-meta .right-side{position:relative;display:flex;flex-grow:1;flex-shrink:0;flex-wrap:nowrap;flex-direction:column;justify-content:space-around;height:100%;width:55%;margin:1em 2em 0;padding:.5em 1.5em 1em;background:rgba(var(--v-theme-surface),calc(var(--v-layer-opacity) - .2));border:2px solid rgb(var(--v-theme-surface));border-radius:var(--v-layer-lg-radius)}#aui-player .detail-meta .right-side .title{padding:.875em 0}#aui-player .detail-meta .right-side .category{padding-bottom:1em}#aui-player .detail-meta .right-side .category .category-tag{margin:0 1.5em 1em 0;font-size:.75em;line-height:1.25em}#aui-player .detail-meta .right-side .description{padding-bottom:1em;font-size:.875rem;color:rgb(var(--v-grey))}#aui-player .detail-meta .right-side .description:before{content:"简介: ";display:inline-block;font-size:.875rem;margin-right:.75em;font-weight:600;color:#21acff}#aui-player .detail-meta .right-side .engine-meta{position:absolute;top:.75em;right:.5em}#aui-player .detail-meta .right-side .engine-meta span.engine-tag{padding:.5em .75em;font-size:.875rem;border-radius:var(--v-layer-sm-radius);background:rgba(var(--v-theme-surface),calc(var(--v-layer-opacity) - .3));text-transform:uppercase}#aui-player .player-info{margin-top:2em}#aui-player .player-info .player-example .example-play code.iframe-test pre{white-space:pre-line;word-break:break-all}#aui-player .player-info .player-example .example-play code.style-api-test pre{overflow-x:scroll}@media(max-width:1264px){#aui-player .main .detail-meta .cover{width:24%}}@media(max-width:967px){#aui-player .main .detail-meta .cover{padding:.875em .125em;width:28%}#aui-player .main .detail-meta .right-side{margin:1em .5em 1em}}@media(max-width:567px){#aui-player .main .detail-meta .cover{width:46%}#aui-player .main .detail-meta .right-side{width:85%;margin:1em .5em 1em}}',""]),t["default"]=l},88615:function(e,t,a){"use strict";a.r(t);var i=a(8081),r=a.n(i),n=a(23645),o=a.n(n),l=o()(r());l.push([e.id,"#aui-player .editor-body input,#aui-player .editor-body textarea{width:-webkit-max-content;width:-moz-max-content;width:max-content;flex:1 1 auto;outline:none}#aui-player .editor-body input:active,#aui-player .editor-body input:focus,#aui-player .editor-body input:focus-visible,#aui-player .editor-body textarea:active,#aui-player .editor-body textarea:focus,#aui-player .editor-body textarea:focus-visible{outline:none}#aui-player .editor-body input{border-bottom:1px solid rgb(var(--v-theme-on-background))}#aui-player .editor-body textarea{resize:none;padding:.5em .75em;border:1px solid rgb(var(--v-theme-on-background));border-radius:var(--v-layer-radius)}#aui-player .editor-body label{flex:0 0 auto}#aui-player .editor-body .list-headline{display:flex;margin-bottom:.5em;justify-content:space-between;align-items:center;max-width:100%;overflow:hidden}#aui-player .editor-body .list-headline>span{display:flex;margin-right:.5em;flex:1 0 auto}#aui-player .editor-body .list-headline>span input{width:-webkit-max-content;width:-moz-max-content;width:max-content;flex:1 1 auto}#aui-player .editor-body .list-info{display:flex;flex-wrap:wrap;width:100%;justify-content:flex-start;align-content:flex-start;align-items:flex-start;margin-bottom:.75em}#aui-player .editor-body .list-info div{display:flex;margin-top:.5em;width:100%}#aui-player .editor-body .list-info div:last-child label{vertical-align:top}#aui-player .editor-body .list-playing{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75em}",""]),t["default"]=l},93135:function(e,t,a){"use strict";a.r(t);var i=a(8081),r=a.n(i),n=a(23645),o=a.n(n),l=o()(r());l.push([e.id,".player-guide{position:absolute;top:0;right:0;left:0;bottom:0;z-index:5;display:flex;flex-direction:column;justify-content:space-around;align-items:center;color:#fff;background:#0009}.player-guide.field-drapover{border:3px dashed #fff;background-color:hsla(0,0%,100%,.6)}.player-guide .guide-upload input+label{display:flex;align-items:flex-end;cursor:pointer}.player-guide .guide-upload input+label>h6{padding:8px}.player-guide .guide-input{display:flex;justify-content:center;align-items:center;padding:0 .125em;width:67%;border-radius:1em;overflow:hidden;color:#fff;border:1px solid;border-color:hsla(0,0%,100%,.6)}.player-guide .guide-input input{min-width:64px;flex:1 1 auto;padding:.25em .75em .25em .5em;outline:none;color:#fff;transition:box-shadow .5s ease-out;line-height:1.75em;font-size:.875rem}.player-guide .guide-input input:active,.player-guide .guide-input input:focus,.player-guide .guide-input input:focus-visible{border:none;outline:none;box-shadow:inset 0 0 10px #fff}.player-guide .guide-input .guide-input-add{flex:0 0 auto;cursor:pointer}.player-guide .guide-input .guide-type-box{flex:0 1 auto;padding:.25em .25em .25em .5em;border-right:1px solid #fff;font-size:.75rem;color:#fff;cursor:pointer}.player-guide .guide-input .guide-type-box select{text-align:right}.player-guide .guide-input .guide-type-box option,.player-guide .guide-input .guide-type-box select{color:#fff;background-color:#000}.player-guide .close-guide{position:absolute;top:.75em;left:1em}.player-guide .close-guide.rotate-it{-webkit-animation:spin .4s ease-out;animation:spin .4s ease-out}.player-guide .close-guide:hover{-webkit-animation:spin .6s ease-out .4s;animation:spin .6s ease-out .4s;-webkit-animation-iteration-count:2;animation-iteration-count:2}",""]),t["default"]=l},89568:function(e,t,a){"use strict";a.r(t);var i=a(8081),r=a.n(i),n=a(23645),o=a.n(n),l=o()(r());l.push([e.id,".aui-select-field{display:flex;align-items:center;justify-content:space-between;height:100%}.aui-select-field select{height:100%;outline:none}",""]),t["default"]=l},39070:function(e,t,a){"use strict";a.a(e,(async function(e){a.d(t,{Z:function(){return i.Z}});var i=a(53090),r=e([i]);i=(r.then?await r:r)[0]}))},77620:function(e,t,a){"use strict";a(46793)},46793:function(e,t,a){var i=a(39798);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=a(54402).Z;r("043ed578",i,!0,{sourceMap:!1,shadowMode:!1})},22748:function(e,t,a){var i=a(88615);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=a(54402).Z;r("db96b6dc",i,!0,{sourceMap:!1,shadowMode:!1})},74461:function(e,t,a){var i=a(93135);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=a(54402).Z;r("e005b9fc",i,!0,{sourceMap:!1,shadowMode:!1})},6504:function(e,t,a){var i=a(89568);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=a(54402).Z;r("6122482c",i,!0,{sourceMap:!1,shadowMode:!1})},57924:function(e,t,a){"use strict";a.d(t,{s:function(){return Y}});a(82526),a(41817);var i=a(56598),r=a(43139),n=a(52653),o=a(74266),l=a(73446),d=a(56191),s=a(84580),c=a(11576),u={id:"aui-player"},p={class:"aui-player-header"},m=(0,i.createElementVNode)("span",null,"Aui",-1),f=(0,i.createElementVNode)("span",null,"Player",-1),g={class:"main layout lycontainer vw-center resp-width resp-padding"},y={class:"detail-meta"},h={class:"cover"},v={class:"right-side"},x={class:"title"},b={class:"category"},w={class:"description"},V={class:"multi-list-editor mt-3"},N=(0,i.createElementVNode)("div",{class:"editor-title"},[(0,i.createElementVNode)("h4",null,"列表编辑器")],-1),k={key:1},E={class:"editor-action"},D=(0,i.createTextVNode)("导出当前选择列表"),A={class:"player-info"},F=(0,i.createElementVNode)("div",{class:"card px-3 py-4 mb-4"},[(0,i.createElementVNode)("h4",null,"关于AuiPlayer"),(0,i.createElementVNode)("div",null,[(0,i.createElementVNode)("p",null,"AuiPlayer是一款集成在AnimeUI中的在线弹幕播放器。"),(0,i.createElementVNode)("p",null,"支持mp4、m3u8、flv、webtorrent等浏览器上常见的多种媒体格式，支持vtt格式字幕。"),(0,i.createElementVNode)("p",null,"AuiPlayer面向直接应用，支持列表多播，集成自动弹幕匹配、弹幕合并等模块。"),(0,i.createElementVNode)("p",null,[(0,i.createTextVNode)(" 弹幕API可填入符合DPlayer弹幕流格式的链接，内置弹幕库由 "),(0,i.createElementVNode)("a",{href:"https://github.com/zaxtyson/AnimeSearcher/",target:"_blank"},"Anime-API驱动")]),(0,i.createElementVNode)("p",null,[(0,i.createTextVNode)(" AuiPlayer也支持使用JS自定义控制及以主题风格的方式添加自定义播放项等，参见: "),(0,i.createElementVNode)("a",{href:"https://lozyue.github.io/AnimeSearcherUI/theme-dev/style/api-config.html#auiplayer",target:"_blank"},"开发文档AuiPlayer")])])],-1),M={class:"player-example mt-3 my-4"},L=(0,i.createElementVNode)("h4",{class:"mb-2"},"测试播放示例：（点击添加）",-1),C=(0,i.createTextVNode)(" 普通视频(mp4) "),T={class:""},I=(0,i.createTextVNode)("点击填充 - 光るなら"),_=(0,i.createElementVNode)("h4",null," 使用主题风格API: ",-1),z={class:"style-api-test"},B=(0,i.createElementVNode)("h4",null,"Iframe嵌入",-1),$={class:"iframe-test"},S=(0,i.createTextVNode)(" 流视频(m3u8) "),G={class:""},P=(0,i.createTextVNode)("点击填充 - 光るなら"),U=(0,i.createElementVNode)("h4",null," 使用主题风格API: ",-1),j={class:"style-api-test"},R=(0,i.createElementVNode)("h4",null,"Iframe嵌入",-1),Z={class:"iframe-test"},H=(0,i.createTextVNode)(" 磁链测试(WebTorrent) "),O={class:""},q=(0,i.createTextVNode)("点击填充 - Sintel"),J=(0,i.createElementVNode)("h4",null," 使用主题风格API: ",-1),W={class:"style-api-test"},K=(0,i.createElementVNode)("h4",null,"Iframe嵌入",-1),Q={class:"iframe-test"},X=(0,i.createElementVNode)("div",{class:"my-4 player-footer"},null,-1);function Y(e,t){var a=(0,i.resolveComponent)("animeui-home"),Y=(0,i.resolveComponent)("svgicon"),ee=(0,i.resolveComponent)("player-region"),te=(0,i.resolveComponent)("list-view"),ae=(0,i.resolveComponent)("multi-list-editor"),ie=(0,i.resolveComponent)("player-guide");return(0,i.openBlock)(),(0,i.createElementBlock)("div",u,[(0,i.createVNode)(a,{animeTemp:e.animeTemp,class:"back-home"},null,8,["animeTemp"]),(0,i.createElementVNode)("h2",p,[(0,i.createElementVNode)("span",null,[(0,i.createVNode)(Y,{name:"aui-player",size:"30",aspectRatio:"1.25"}),m]),f]),(0,i.createElementVNode)("div",g,[(0,i.createVNode)(ee,{ref:"playerRegion",animeTemp:e.animeTemp,onToggleVideo:e.toggleVideo},null,8,["animeTemp","onToggleVideo"]),(0,i.createElementVNode)("div",y,[(0,i.createElementVNode)("div",h,[(0,i.createVNode)(c.f,{src:e.animeMeta.cover||null,"lazy-src":r,contain:!1},null,8,["src"])]),(0,i.createElementVNode)("div",v,[(0,i.createElementVNode)("h3",x,(0,i.toDisplayString)(e.animeMeta.title),1),(0,i.createElementVNode)("div",b,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.animeMeta.category,(function(t,a){return(0,i.openBlock)(),(0,i.createElementBlock)("span",{class:"category-tag",key:a,style:(0,i.normalizeStyle)("background-color:rgb(var(".concat(e.themeColorRandom(a),"))"))},(0,i.toDisplayString)(t),5)})),128))]),(0,i.createElementVNode)("div",w,(0,i.toDisplayString)(e.animeMeta.description),1)])]),(0,i.createVNode)(te,{animeTemp:e.animeTemp,metaList:e.multiMeta,showing:e.showing,playing:e.playing,onDelegateClick:e.toggleToListVideo,onToAddList:t[0]||(t[0]=function(t){return e.showGuide=!0,e.$refs.playerRegion.getLzyplayer().relocatePlayer()}),onToToggleList:t[1]||(t[1]=function(t){e.toggleMetaList(t),e.$refs.playerRegion.videoPlaying.isPrepared||e.loadListData(t)})},null,8,["animeTemp","metaList","showing","playing","onDelegateClick"]),(0,i.createElementVNode)("section",V,[N,e.multiMeta[e.showing.playListID]?((0,i.openBlock)(),(0,i.createBlock)(ae,{key:0,class:"editor-body",listMeta:e.multiMeta[e.showing.playListID]},null,8,["listMeta"])):((0,i.openBlock)(),(0,i.createElementBlock)("div",k,"创建或导入后可进行编辑")),(0,i.createElementVNode)("div",E,[(0,i.createVNode)(n.T,{text:"",flat:"",variant:"outlined",size:"middle",class:"px-2 py-1",onClick:e.exportListMeta},{default:(0,i.withCtx)((function(){return[D]})),_:1},8,["onClick"])])]),e.renderGuide?((0,i.openBlock)(),(0,i.createBlock)(ie,{key:0,ref:"playerGuide",show:e.showGuide,onAddListData:e.toAddListData,onAddToList:e.addToList,onCloseGuide:t[2]||(t[2]=function(t){return e.showGuide=!1})},null,8,["show","onAddListData","onAddToList"])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",A,[F,(0,i.createElementVNode)("div",M,[L,(0,i.createVNode)(o.V,null,{default:(0,i.withCtx)((function(){return[(0,i.createVNode)(l.M,{class:"example-play"},{default:(0,i.withCtx)((function(){return[(0,i.createVNode)(d.V,{"expand-icon":"mdi-menu-down"},{default:(0,i.withCtx)((function(){return[C]})),_:1}),(0,i.createVNode)(s.H,null,{default:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",T,[(0,i.createVNode)(n.T,{onClick:t[3]||(t[3]=function(t){return e.example("normal")})},{default:(0,i.withCtx)((function(){return[I]})),_:1}),_,(0,i.createElementVNode)("code",z,[(0,i.createElementVNode)("pre",null,(0,i.toDisplayString)("$theme((utility)=>{\n  var playItem = {".concat(e.ConjunctCode({src:"https://api.dogecloud.com/player/get.mp4?vcode=5ac682e6f8231991&userId=17&ext=.mp4",name:"光るなら - Goose house",danmu:"https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json",subtitle:"https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt"}),"\n  };\n  utility.addToPlaylist(playItem, 0);\n});")),1)]),B,(0,i.createElementVNode)("code",$,[(0,i.createElementVNode)("pre",null,"                      "+(0,i.toDisplayString)('<iframe src="'.concat(e.$magic.utils.addURLModifier("".concat(e.$magic.utils.getCurrentAddress(),"/#/aui-player"),{src:"https://api.dogecloud.com/player/get.mp4?vcode=5ac682e6f8231991&userId=17&ext=.mp4",name:"光るなら - Goose house",danmu:"https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json",subtitle:"https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt"}),'" allow="fullscreen" width="720px" height="480px" frameborder="0"></iframe>')),1)])])]})),_:1})]})),_:1}),(0,i.createVNode)(l.M,{class:"example-play"},{default:(0,i.withCtx)((function(){return[(0,i.createVNode)(d.V,{"expand-icon":"mdi-menu-down"},{default:(0,i.withCtx)((function(){return[S]})),_:1}),(0,i.createVNode)(s.H,null,{default:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",G,[(0,i.createVNode)(n.T,{onClick:t[4]||(t[4]=function(t){return e.example("hls")})},{default:(0,i.withCtx)((function(){return[P]})),_:1}),U,(0,i.createElementVNode)("code",j,[(0,i.createElementVNode)("pre",null,(0,i.toDisplayString)("$theme((utility)=>{\n  var playItem = {".concat(e.ConjunctCode({src:"https://api.dogecloud.com/player/get.m3u8?vcode=5ac682e6f8231991&userId=17&ext=.m3u8",name:"光るなら - Goose house.m3u8",type:"hls",danmu:"https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json",subtitle:"https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt"}),"\n  };\n  utility.addToPlaylist(playItem, 0);\n});")),1)]),R,(0,i.createElementVNode)("code",Z,[(0,i.createElementVNode)("pre",null,"                      "+(0,i.toDisplayString)('<iframe src="'.concat(e.$magic.utils.addURLModifier("".concat(e.$magic.utils.getCurrentAddress(),"/#/aui-player"),{src:"https://api.dogecloud.com/player/get.m3u8?vcode=5ac682e6f8231991&userId=17&ext=.m3u8",name:"光るなら - Goose house",type:"hls",danmu:"https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json",subtitle:"https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt"}),'" allow="fullscreen" width="720px" height="480px" frameborder="0"></iframe>')),1)])])]})),_:1})]})),_:1}),(0,i.createVNode)(l.M,{class:"example-play"},{default:(0,i.withCtx)((function(){return[(0,i.createVNode)(d.V,{"expand-icon":"mdi-menu-down"},{default:(0,i.withCtx)((function(){return[H]})),_:1}),(0,i.createVNode)(s.H,null,{default:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",O,[(0,i.createVNode)(n.T,{onClick:t[5]||(t[5]=function(t){return e.example("webtorrent")})},{default:(0,i.withCtx)((function(){return[q]})),_:1}),J,(0,i.createElementVNode)("code",W,[(0,i.createElementVNode)("pre",null,(0,i.toDisplayString)("$theme((utility)=>{\n  var playItem = {".concat(e.ConjunctCode({src:"magnet:?xt=urn:btih:08ada5a7a6183aae1e09d831df6748d566095a10&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F&xs=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2Fsintel.torrent",type:"webtorrent",name:"Sintel"}),"\n  };\n  utility.addToPlaylist(playItem, 0);\n});")),1)]),K,(0,i.createElementVNode)("code",Q,[(0,i.createElementVNode)("pre",null,(0,i.toDisplayString)('<iframe src="'.concat(e.$magic.utils.addURLModifier("".concat(e.$magic.utils.getCurrentAddress(),"/#/aui-player"),{src:"magnet:?xt=urn:btih:08ada5a7a6183aae1e09d831df6748d566095a10&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F&xs=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2Fsintel.torrent",type:"webtorrent",name:"Sintel"}),'" allow="fullscreen" width="720px" height="480px" frameborder="0"></iframe>')),1)])])]})),_:1})]})),_:1})]})),_:1})])]),X])])}}}]);