(self["webpackChunkAnimeUI"]=self["webpackChunkAnimeUI"]||[]).push([[10],{14080:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(48534),o=n(95082),i=(n(35666),n(78830),n(56977),n(74916),n(64765),n(40561),n(41539),n(54747),n(92222),n(68309),n(69600),n(56598)),l=n(42119),r=n(28157),s=n(51478),d=n(40541),c=n(14057),u=n(97400),p=n(90778),m=n(89745),f=n(23176),y=n(65490),g=n(93204),h=n(486),v=n(35583),b=e([g,d]);[g,d]=b.then?await b:b;var k="967";t["Z"]=(0,i.defineComponent)({name:"player-region",inheritAttrs:!1,props:{animeTemp:Object,styles:{type:Object,default:{"epi-box-title":"播放列表"}}},components:{"aui-lzyplayer":d.Z,"danmaku-panel":p.Z,"aui-number-field":s.Z,"episode-box":c.Z},emits:{toggleVideo:function(e){return!0}},setup:function(e){var t=(0,i.getCurrentInstance)(),n=t.proxy,a=null===t||void 0===t?void 0:t.appContext.config.globalProperties.$magic,s=(a.actionQueue,(0,l.yj)()),d=(0,l.tv)(),c=(0,r.AW)(),p=(0,i.computed)((function(){return!e.animeTemp.isMobile&&c.width.value>k})),y=(0,i.reactive)({wideplay:!1,autoNext:!0,footerMsg:"弹幕库载入为空,修改搜索词试试~",offsetTime:0}),v=(0,i.reactive)({opacity:1,volume:.5,danmaku:1,autoplay:1,danmuArea:"default",orbitGap:6,speed:10,duration:5,fontsize:100,autoNext:!0,enableInnerDanmaku:!0}),b=new n.$Lycabinet("auiplayer-prefer",(0,o.Z)({autoload:!1,initStorage:v},(0,g.VM)(a)));b._init(v),b.load({onceDone:function(){f.DEBUG&&console.log("[AuiSettings]: Query start to parser"),d.isReady().then((function(){var e=s.query;for(var t in e){var n=!1;switch(t){case"innerDanmaku":v.enableInnerDanmaku=!("false"===e[t]),n=!0;break}if(n)break}}))}});var x=null,w=null,D=null;(0,i.onMounted)((function(){D=n.$refs.lzyplayer,w=D.dlpWrap,x=D.dlpIns,f.DEBUG&&(window["lzyplayer"]=D),f.DEBUG&&(window["dlpWrap"]=w),f.DEBUG&&(window["dlpIns"]=x)})),(0,i.watch)((function(){return v}),(function(e,t){f.DEBUG&&console.log("[player-region]: AuiPlayer Preference is changed!"),b.lazySave()}),{deep:!0}),(0,i.onBeforeMount)((function(){(0,i.watchEffect)((function(){v.autoNext=y.autoNext})),(0,i.watchEffect)((function(){n.danmakuStatue.enable=v.enableInnerDanmaku,n.danmakuStatue.enable||(y.footerMsg='<span class="text-grey">内置弹幕库已经禁用</span>')}))})),(0,i.onMounted)((function(){(0,i.nextTick)((function(){(0,i.watchEffect)((function(){w.danmuStyle({orbitGap:v.orbitGap})})),(0,i.watchEffect)((function(){w.danmuStyle({scrollSpeed:v.speed})})),(0,i.watchEffect)((function(){w.danmuStyle({fixedDuration:v.duration})})),(0,i.watch)((function(){return v.fontsize}),(function(e,t){var n=(v.fontsize/100*1.25).toFixed(2)+"rem";w.danmuStyle({fontsize:n})})),(0,i.watchEffect)((function(){f.DEBUG&&console.log("设定了弹幕偏移！"),w.danmuStyle({offsetTime:y.offsetTime})})),(0,i.watchEffect)((function(){var e=x.container;y.wideplay?e.classList.add("dlp-screen-widen"):e.classList.remove("dlp-screen-widen"),(0,i.nextTick)((function(){x.resize()}))}))}))}));var E=(0,m.deepAssign)({video:{defaultQuality:0,type:"auto",topbar:{title:!0,meta:!0},currentPath:"",quality:[{name:"1080P",url:"",type:"auto"}]}},{danmaku:{bottom:"36px",addition:[]},storageMode:"outer",settingStorage:v,hotkeyProxy:!0}),V=(0,i.reactive)({title:"",cover:"",description:"",category:[],danmaku:{search:"",addition:[]}}),N=function(e){var t,a;((0,m.objectRefresh)(V,e),n.danmakuStatue.enable)&&((null===(t=e.danmaku)||void 0===t?void 0:t.search)!==h.$&&n.grabDanmaku(null===(a=e.danmaku)||void 0===a?void 0:a.search,!0))},_=(0,i.reactive)([]),z=function(e){_.splice(0,_.length),e.forEach((function(e,t){e.id=t,_.push(e)}))},B=(0,i.reactive)({listTitle:"",episodeId:-1,name:"",danmuList:[],isPrepared:!1}),S=(0,u.S)({$magic:a,videoPlaying:B,animeMeta:V,playList:_,playerRegion:n}),M=[];(0,i.onMounted)((function(){a.utils.addToInterface((function(e){var t=e.invoke;e.invoke=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(void 0,[x].concat(n))},a.utility.registerShortcut(e),M.push((function(){a.utility.unregisterShortcut(e.name,!0)}))}),"addPlayerHotkey"),a._trigger("auiplayer-mounted",M)})),(0,i.onUnmounted)((function(){while(M.length)M.pop()(n);a._resetCounter("auiplayer-mounted"),a._trigger("auiplayer-unmounted"),a.utils.removeInInterface("addPlayerHotkey")}));var L=function(e){y.footerMsg="弹幕库".concat(e?"已成功加载":"加载失败,更换搜索词试试")},C=function(e,t){y.footerMsg=e?'弹幕集匹配成功: <span class="text-success">'.concat(t.name,"</span>"):'<span class="text-warning">弹幕集匹配失败，请调整配置或手动选择</span>'};return a._on("danmakuLoaded",L),a._on("danmuMatch",C),(0,i.onUnmounted)((function(){a._off("danmakuLoaded",L),a._off("danmuMatch",C)})),a.utils.addToInterface((function(e){var t=e(x),n=["orbitGap","playWaitDanmu"];try{for(var a in t)switch(a){case n[0]:v.orbitGap=parseFloat(t[a])||8;break;case n[1]:n[1]&&function(){var e=function(){x.pause()},t=function(){x.play()};x._on("danmaku_load_start",e),x._on("danmaku_load_end",t),M.push((function(){x._off("danmaku_load_start",e),x._off("danmaku_load_end",t)}))}();break}}catch(o){console.error("The returns should be an Object with optional prop in ".concat(n.join(",")),o)}}),"auiplayerDepthSet"),(0,o.Z)((0,o.Z)({display:c,need_Rollbox_Show:p,AuiSettings:v,videoPlaying:B,animeMeta:V,playingList:_,toolbar:y,toUnmounted:M,initRegionMeta:N,initPlaylist:z,dlplayerOptions:E,getDlpIns:function(){return x},getDlpWrap:function(){return w},getLzyplayer:function(){return D}},S),{},{panelDanmaku:(0,i.reactive)({show:!1,isAddition:!1})})},computed:{},methods:{playIt:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var a,o,i,l,r,s,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.index,o=e.preplay,i=e.postplay,l=e.alterOption,r=t.videoPlaying,s=t.playingList[~~a],r.episodeId=~~a,r.name=s.name,d={title:t.animeMeta.title,name:s.name,src:s.src,type:s.type,topbar:{title:s.name,meta:"#".concat(r.episodeId+1," / ").concat(t.playingList.length)},quality:s.quality||null},n.next=8,l(d,s);case 8:return o&&(d.preplay=function(e,n){var i={dlpIns:n,dlpWrap:e,lzyplayer:t.$refs.lzyplayer,playerRegion:t,playingList:t.playingList,index:a};o(i),t.toolbar.offsetTime=0,t.toolbar.footerMsg="正在播放: ".concat(s.name)}),i&&(d.postplay=function(e,n){var o,l={dlpIns:n,dlpWrap:e,lzyplayer:t.$refs.lzyplayer,playerRegion:t,playingList:t.playingList,index:a};null!==(o=s.danmaku)&&void 0!==o&&o.address?t.applyDanmu(s.danmaku):t.applyDanmu({address:""}),i(l)}),n.next=12,t.$refs.lzyplayer.lzyplay(d);case 12:case"end":return n.stop()}}),n)})))()},toPlaynext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.playingList.length,o=(a+this.videoPlaying.episodeId+(n?-1:1))%a;this.$emit("toggleVideo",o,{callback:function(n){if(n)e.notice("即将播放下一集：".concat(t.playingList[o].name),{priority:2});else{var a=new Function,i="已至最后一集了，将循环播放";e.notice(i,{cancel:a,cancelText:"取消",action:function(e){var t=this;(0,y.i7)({count:3,action:function(t,n){e.innerHTML=i+"(".concat(t,")s"),a=n},done:function(){return t.$emit("toggleVideo",0)}})},priority:2})}}})},toEnded:function(e){this.toolbar.autoNext&&this.toPlaynext(e)},applyDanmu:function(e){var t;this.videoPlaying.danmuList=[e.address].concat((0,m.is_Array)(e.addition)?e.addition:[]),e.address&&(this.toolbar.footerMsg='<span class="text-primary">已注入来自'.concat((0,v.getHostName)(e.address),"的弹幕;</span>")+this.toolbar.footerMsg),null!==(t=e.addition)&&void 0!==t&&t.length&&(this.toolbar.footerMsg='<span class="text-secondary">合并了'.concat(e.addition.length,"条弹幕;</span>")+this.toolbar.footerMsg),this.$refs.lzyplayer.dlpWrap.applyDanmu(e)},contactDanmu:function(e){for(var t in f.DEBUG&&console.log("[lzyplayer]: Executed Danmu Contact",e),e.addition)this.videoPlaying.danmuList.push(e.addition[t]);this.$refs.lzyplayer.dlpWrap.contactDanmu(e),e.addition.length&&(this.toolbar.footerMsg='<span class="text-secondary">合并了'.concat(e.addition.length,"个弹幕源;</span>")+this.toolbar.footerMsg),e.bullets.length&&(this.toolbar.footerMsg='<span class="text-secondary">合并了'.concat(e.addition.length,"条弹幕;</span>")+this.toolbar.footerMsg)},openDanmakuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.danmakuStatue.enable)return this.$magic.utility.lzydialog({title:"Hint",content:"内置弹幕库已禁用，点击确定启用。请确保与Anime-API通信顺畅。",actions:[{text:"确定",semantic:"success",action:function(){e.AuiSettings.enableInnerDanmaku=!0,e.toolbar.footerMsg='<span class="text-success">内置弹幕库及自动匹配启用成功！</span>'}},{text:"取消",semantic:"none"}],semantic:"warning"}),!1;t?(this.panelDanmaku.show=!0,this.panelDanmaku.isAddition=!0):(this.panelDanmaku.show=!0,this.panelDanmaku.isAddition=!1)}},beforeMount:function(){},mounted:function(){var e=this,t=this.$magic.utils.addToInterface;t((function(t){var n={},a=["loadListData","toggleMetaList","toggleVideo","contactDanmu","applyDanmu"];a.forEach((function(t){n[t]=(0,m.getExportMethod)(e,t)}));var o=["danmuStyle","toggleDanmu","speedShift","mute","focusIt"],i=e.getDlpWrap();o.forEach((function(e){n[e]=(0,m.getExportMethod)(i,e)})),t(e.$refs.lzyplayer.dlpIns,n)}),"auiplayer");var n=this.display.platform.value;n.chrome,f.DEBUG&&(window["playerRegion"]=this)},unmounted:function(){}})}))},97400:function(e,t,n){"use strict";n.d(t,{S:function(){return v}});n(74916),n(64765),n(41539);var a=n(65490),o=n(89745),i=n(56598),l=(n(92222),n(26699),n(32023),n(69600),n(2707),n(15306),n(47042),n(68309),n(4723),n(21249),n(23176)),r=!0,s=["〇零","一壹","二贰","三叁","四肆","五伍","六陆","七柒","八捌","九玖"],d=20,c=["十拾","百佰","千仟","万萬"],u=function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].includes(e))return n;return n},p=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=s.join("")+c.join(""),a=s.concat(c),o=n.length,i=0;i<e.length;i++){for(var l=-1,r=o-1;r>=0;r--)if(n[o-r-1]===e[i]){l=o-r-1;break}if(l>-1){var p=0,m=-1,f=-1,y=i;do{if(l<d){if(m=u(e[i],s),f=u(e[i+1],c),m&&(p+=m*Math.pow(10,f+1)),l=u(e[i+1],a),i+=2,-1===l||-1===m)break}else m=u(e[i],c),p+=Math.pow(10,m+1),i++,l=u(e[i],a)}while(l>-1);var g=p+"";if(!t)return g;e=e.substring(0,y)+g+e.substring(y+i-y-1)}}return e};l.DEBUG&&(window["ZH_HardToNums"]=p);var m={bilibili:1/24,tencent:1/36,iqiyi:1/36},f=function(e,t){var n,a=t.title,o=t.episodeNum;return n=h(e,a,(function(e,t,n){o+""===e.num+""?n+=~~(Math.log(o+1)*(o-Math.abs(e.num-o))):n+=~~(o-Math.abs(e.num-o)),l.DEBUG&&r&&console.log("集数对称差加权结果：",n);var a=e.module.slice(1+e.module.lastIndexOf("."));for(var i in m)if(i===a){n+=Math.abs(~~(m[i]*n));break}return l.DEBUG&&r&&console.log("信赖源加权结果：",n),n})),n.sort((function(e,t){return t.mark-e.mark}))},y=function(e,t){l.DEBUG&&console.log({danmaku:e,matchInstruction:t});var n=t.name,a=(t.episodeNum,/第?(.+?)[集话节画卷章]/),o=/(?:OVA.+)|(?:SP.+)|(?:PV.+)/i,i=/(?:\[.+?\])|(?:【.+?】)/g;n=n.replace(i,"");var r=n.match(a),s=n.match(o),d=parseInt(g(n)),c=Object.create(null);if(r){var u;l.DEBUG&&console.log("[lzyplayer]: 进入集数标识子集匹配; resultOne",r);for(var p=0;p<e.length;p++){if(e[p].name.indexOf(r[0])>-1)return l.DEBUG&&console.log("[lzyplayer]: 集数标识子集匹配成功;id: ".concat(p,",name: ").concat(e[p].name)),p;if(u=e[p].name.match(a),u&&parseFloat(u[1])===parseFloat(r[1]))return l.DEBUG&&console.log("[lzyplayer]: 集数标识双向正则匹配成功;id: ".concat(p,",name: ").concat(e[p].name)),p;if(c[p]||(c[p]=parseFloat(g(e[p].name))),parseFloat(r[1])===parseFloat(c[p]))return l.DEBUG&&console.log("[lzyplayer]: 集数标识数字数值匹配成功;id: ".concat(p,",name: ").concat(e[p].name)),p}}else if(s){l.DEBUG&&console.log("[lzyplayer]: 进入关键字子集匹配; resultTwo",s);for(var m=0;m<e.length;m++){if(e[m].name.indexOf(s[0])>-1)return l.DEBUG&&console.log("[lzyplayer]: 关键字子集匹配成功;id: ".concat(m,",name: ").concat(e[m].name)),m;if(c[m]||(c[m]=parseFloat(g(e[m].name))),parseFloat(s[1])===c[m])return l.DEBUG&&console.log("[lzyplayer]: 精确数字匹配成功;id: ".concat(m,",name: ").concat(e[m].name)),m}}else{if(!d){var f,y=0,v=e.map((function(e){return{title:e.name,num:e.name.length}}));return f=h(v,n),f.sort((function(e,t){return t.mark-e.mark})),l.DEBUG&&console.log("[lzyplayer]: 字符模糊相似排序匹配成功;id: ".concat(f[y].id,",name: ").concat(f[y].data.name)),f[y].id}l.DEBUG&&console.log("[lzyplayer]: 进入模糊数字匹配; playingTitleNumbers: ".concat(d));for(var b=0;b<e.length;b++)if(c[b]||(c[b]=parseFloat(g(e[b].name))),c[b]===d)return l.DEBUG&&console.log("[lzyplayer]: 模糊数字匹配成功;id: ".concat(b,",name: ").concat(e[b].name)),b}return-1};function g(e){var t="",n="";e=p(e,!0);for(var a=0;a<e.length;a++)n=e[a],isNaN(n)&&"."!==n||(t+=n);return t}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.map((function(e,a,o){e.id=a;for(var i=0,s=-1,d=-1,c=0;c<t.length;c++)s=e.title.slice(c).indexOf(t[c])+c,s>-1&&(d+1===s?i+=4:d<s?i+=2:d>s&&(i+=1)),d=s;return l.DEBUG&&r&&console.log("字符连续相似搜索匹配结果：",i),i+=t.length-Math.abs(e.title.length-t.length)*Math.log(t.length),l.DEBUG&&r&&console.log("标题长度对称差加权结果：",i),n&&(i=n(e,t,i)),{mark:i,id:a,data:o[a]}}))}function v(e){var t=(0,i.ref)([]),n=(0,i.reactive)({loading:!0,search:"",enable:!0}),r=function(n){var a=e.animeMeta.title,o=e.playList,i={title:a,episodeNum:o.length},l=f(n,i);t.value=l},s=new Function,d=function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.DEBUG&&console.log("搜索了弹幕：",a),n.enable?(0,o.is_Empty)(e.playList)&&!d?(e.$magic.utility.lzynotice({title:"视频轨道为空",content:"请先载入视频播放列表！"}),!1):a?(n.search=a,n.loading=!0,void this.$magic.http.get("/danmaku/search/"+a).then((function(d){var c=d.data;if((0,o.is_Empty)(c)||!(0,o.is_Object)(c))return t.$magic.utility.lzynotice({content:"弹幕库为空或加载弹幕库失败",semantic:"error",position:"center",duration:9}),n.loading=!1,Promise.reject("The grabbed data is vacant with Searching word: ".concat(a));s(),s=(0,i.watchEffect)((function(){e.playList&&(r(c),l.DEBUG&&console.log("The sort mark of danmaku is re-calculated!"))})),n.loading=!1,t.$magic._trigger("danmakuLoaded",!0)})).catch((function(e){n.loading=!1,r([]),console.error(e),t.$magic._trigger("danmakuLoaded",!1)}))):(l.DEBUG&&console.log("Danmaku Search is Vacant!"),r([]),!1):(e.$magic.utility.lzydialog({title:"内置弹幕库已禁用",content:"请先启用内置弹幕库并确保与API通讯畅通"}),!1)},c=function(t,n){var o=y(t,n);if(o>-1){var i=e.videoPlaying.danmuList,l={address:(0,a.ay)(t[o].url,"/",2)+"v3/?",addition:i};e.playerRegion.applyDanmu(l),e.$magic._trigger("danmuMatch",!0,t[o])}else e.$magic.utility.lzynotice({content:"自动匹配弹幕失败，请手动选择",semantic:"warning",position:"center",duration:9}),e.$magic._trigger("danmuMatch",!1)},u=function n(a){var i=this;if((0,o.is_Object)(t.value[0])&&!(0,o.curveGet)(t.value,[0,"danmus"]))return p(0).then((function(e){e===t.value[0]?c.call(i,e.danmus,a):n(a)})).catch((function(e){console.error(e)})),!0;if(t.value[0]){var r=(0,o.curveGet)(t.value,[0,"danmus"]);return c.call(this,r,a),!0}l.DEBUG&&console.log("[Details]: Danmu applying is blocked cause the danmaku is not loaded!",(0,o.deepClone)(t.value),t.value);var s="danmakuLoaded";return e.$magic._once(s,(function(){Promise.resolve().then((function(){e.$magic._isHappened(s,1)&&!e.$magic._isHappened(s,2)&&n(a)}))}),!0),!1},p=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!n.enable)return l.DEBUG&&console.log("内置弹幕库已禁用，取消自动匹配"),Promise.reject("Danmaku is disabled");var i=t.value[a];if(!i)return l.DEBUG&&console.error("所选弹幕源不存在！",{id:a,danmakuList:t.value}),Promise.reject("Danmaku is not existed");var r=(0,o.curveGet)(i,["data","url"]);return e.$magic._isHappened("danmakuLoaded")?(n.loading=!0,new Promise((function(t,a){e.$magic.http(r).then((function(e){var a=e.data;return(0,o.curveSet)(i,["danmus"],a),n.loading=!1,t(i),i})).catch((function(e){n.loading=!1,a(e)}))}))):(l.DEBUG&&console.log("[Details]: Danmu applying is blocked cause the danmaku is not loaded!"),e.$magic.utility.lzynotice({content:"动作太快啦，请先让弹幕君缓缓！",position:"side",semantic:"info"}),Promise.reject("Danmaku is loading"))};return{danmakuStatue:n,danmakuList:t,grabDanmaku:d,grabDanmakuDetails:p,calcCurrentMatch:r,startToMatchDanmu:u}}},91816:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{N:function(){return m}});var a=n(95082),o=(n(68309),n(74916),n(64765),n(41539),n(54747),n(40561),n(91038),n(78783),n(70189),n(33948),n(47042),n(92222),n(56598)),i=n(5450),l=n.n(i),r=n(93204),s=n(89745),d=n(65490),c=n(23176),u=e([r]);r=(u.then?await u:u)[0];var p=!0;function m(e,t){var n=e._self,i=e.animeMeta,u=e.getDlpIns,m=e.$magic,f=m.actionQueue,y=t.playingListHostName,g=t.limit||-1,h=new(l())(t.rootName,(0,a.Z)({initStorage:{historylist:[]},deepMerge:!0,customMerge:(0,d.$L)("title")},(0,r.VM)(m)));c.DEBUG&&(window["cab-"+t.rootName]=h);var v=[],b=function(){f.revoke(-1,(function(e){t.rootName}))},k=function e(a,o){var l=h.get("historylist")||(h.__storage.historylist=[]),r=o.title;if(!r)return c.DEBUG&&console.log("[Playing-History]: runtimeKey is empty!",o),f.bubble((function(){e(a,o)}),5),!1;for(var u=0;u<l.length;u++)if(l[u].title===r)break;var b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.video.paused&&!e)return!1;var l=h.get("historylist"),d=n.$refs[y],m=d.videoPlaying,f=n.playing,v={title:r,name:m.name,line:f.playlistID,epi:f.episodeID,time:~~a.video.currentTime,date:(0,s.dateFormatter)("yy-MM-dd HH:mm:ss"),danmus:i.danmaku.danmuList||[],danmakuSearch:i.danmaku.search};t.extendRecords&&t.extendRecords.forEach((function(e){switch(e){case"url":v[e]=n.$route.params.animeID;break;case"eng":v[e]=o.module;break;case"cover":v[e]=o.cover;break}})),l[u]=v,g>0&&l.length>g&&l.splice(l.length-1,l.length-g),(0,s.moveArrayItem)(l,u,0),u=0,c.DEBUG&&p&&console.log("完成了一次历史记录采样",v,l,u),h.save()};f.registerHook({name:t.rootName+"_save",loop:!0,once:!0,debounce:!0,action:b}),f.bubble(t.rootName+"_save",-1),a._on("pause",(0,s.throttle)(b,1e3));var k=l[u],x=function(e){var a=n.multiMeta[k.line];a.playing.danmakuSearch=k.danmakuSearch;var o=Array.from(new Set(k.danmus)),i=!(0,s.is_Empty)(o),l=n.multiMeta,d=-1,u=-1,p=!0;if("name"===t.matchMode||"mixed"===t.matchMode){for(d=0;d<l.length;d++)if(l[d].title===r)break;l[d]||(p=!1);var f=l[d].playList;for(u=0;u<f.length;u++)if(k.name===f[u].name)break;f[u]||(p=!1),p||("mixed"===t.matchMode&&(0,s.is_Object)(f[k.epi])?u=k.epi:m.utility.lzynotice({content:"播放列表变更，未找到对应记录！",semantic:"error"}))}else u=k.epi,d=k.line;if(!p||(0,s.is_Empty)(l[d])||!(0,s.is_Defined)(l[d].playList[u]))return c.DEBUG&&console.log("Unable to recordFind the proper history record, The history match mode is: ".concat(t.matchMode)),!1;n.toggleListVideo(d,u,{postplay:function(e){console.info("Post play with context",e),e.dlpIns.seek(~~k.time),i&&e.playerRegion.applyDanmu({address:o[0],addition:o.slice(1)})},disableAutoDanmu:i})},w=function(){var e='style="color:#eaf;cursor:pointer;font-weight:bold;"',t=m.utility.lzynotice({content:"上次观看『<span ".concat(e,">").concat(l[u].name,"</span>』至 <span ").concat(e,">").concat((0,d.gk)(l[u].time),"</span>"),position:"side",duration:0,semantic:"info",match:"span",onMatched:x,onMissed:x});v.push(t)};(0,s.is_Defined)(k)?w():c.DEBUG&&console.log("没有找到符合的历史记录")},x=t.metaLoadedEventName;return(0,o.onMounted)((function(){var e=u();m._isHappened(x)?(0,o.nextTick)((function(){k(e,i),m._resetCounter(x)})):m._once(x,(function(t){k(e,t),m._resetCounter(x)}),!0)})),(0,o.onUnmounted)((function(){b(),f.unregisterHook(t.rootName+"_save"),h.destroy(!1),v.forEach((function(e){m.utility.lzynotice(e,!0)})),v.splice(0,v.length)})),{recorderSetup:k,stopRecorder:b}}}))},90778:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});n(74916),n(64765),n(47042),n(56977),n(68309);var a=n(56598),o=n(52653),i=n(46769),l=n(1956),r=n(165),s=n(72595),d={class:(0,a.normalizeClass)(["select-step","select-addition"])},c=(0,a.createElementVNode)("span",{class:"step-tag"},"1",-1),u=(0,a.createElementVNode)("hr",{class:"v-divider"},null,-1),p=(0,a.createElementVNode)("span",{class:"step-tag"},"2",-1),m=(0,a.createElementVNode)("span",null,"当前番目弹幕",-1),f=[p,m],y={class:"select-body"},g={class:"body-content"},h={key:"0"},v=(0,a.createTextVNode)("mdi-refresh"),b=["onClick","data-id"],k={class:"ml-2 danmaku-engine"},x={class:"ml-2 danmaku-mark"},w={key:"0"},D=["onClick"],E={class:"mr-2",style:{display:"inline-block",color:"#21acff"}},V={class:(0,a.normalizeClass)(["select-footer","select-addition"])},N=(0,a.createTextVNode)("Close"),_=(0,a.createElementVNode)("div",{style:{flex:"1 1 auto"}},null,-1);function z(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["danmaku-select layout resp-width-popup bg-background","select-step-".concat(e.step)])},[(0,a.createElementVNode)("div",d,[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["step-one",{"step-active":0===e.step}]),onClick:t[0]||(t[0]=function(t){return e.step=0})},[c,(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.isAddition?"合并弹幕源":"选择弹幕源"),1)],2)),[[s.H]]),u,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["step-two",{"step-active":1===e.step}])},f,2)]),(0,a.createElementVNode)("div",y,[(0,a.createVNode)(l.K,{active:e.danmakuStatue.loading,indeterminate:e.danmakuStatue.loading,color:"deep-purple accent-4"},null,8,["active","indeterminate"]),(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["content-step content-step-one",{"step-content-active":0===e.step||e.danmakuStatue.loading}])},[(0,a.createVNode)(r.h,{onKeyup:t[1]||(t[1]=(0,a.withKeys)((function(t){return e.$emit("grabDanmaku",e.danmakuStatue.search,!0)}),["enter"])),small:"","hide-details":"auto",density:"compact",modelValue:e.danmakuStatue.search,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.danmakuStatue.search=t}),"aria-autocomplete":"off",autocomplete:"off","prepend-inner-icon":"mdi-text-box-search-outline"},null,8,["modelValue"]),(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",h,[(0,a.createElementVNode)("span",null,"共找到 "+(0,a.toDisplayString)(e.danmakuList.length)+" 个弹幕源",1),(0,a.createVNode)(o.T,{title:"刷新",size:"x-small",icon:"",color:"transparent",onClick:t[3]||(t[3]=function(t){return e.$emit("grabDanmaku","")})},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(i.t,null,{default:(0,a.withCtx)((function(){return[v]})),_:1})]})),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.danmakuList,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:-n,onClick:(0,a.withModifiers)((function(t){return e.selected.danmakuId=n}),["stop"]),class:(0,a.normalizeClass)([{selected:n===e.selected.danmakuId}]),"data-id":n},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.data.title),1),(0,a.createElementVNode)("code",k,(0,a.toDisplayString)(t.data.module.slice(t.data.module.lastIndexOf(".")+1,t.data.module.length-1)),1),(0,a.createElementVNode)("span",x,"Mark: "+(0,a.toDisplayString)(t.mark.toFixed(0)),1)],10,b)})),128))])],2),e.danmakuList[e.selected.danmakuId]&&e.danmakuList[e.selected.danmakuId].danmus?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["content-step content-step-two",{"step-content-active":1===e.step&&!e.danmakuStatue.loading}])},[(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",w,"共找到 "+(0,a.toDisplayString)(e.danmakuList[e.selected.danmakuId].danmus.length)+" 条弹幕集",1),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.danmakuList[e.selected.danmakuId].danmus,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:n,class:(0,a.normalizeClass)([{selected:n===e.selected.danmuId}]),onClick:function(t){return e.selected.danmuId=n}},[(0,a.createElementVNode)("span",E,"标题"+(0,a.toDisplayString)(n+1)+"：",1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.name),1)],10,D)})),128))])],2)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(o.T,{onClick:t[4]||(t[4]=function(t){return e.show=!1})},{default:(0,a.withCtx)((function(){return[N]})),_:1}),_,(0,a.createVNode)(o.T,{onClick:e.goto,color:e.isAddition?"quaternary":"primary",disabled:e.danmakuStatue.loading},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(0===e.step?"Next":e.isAddition?"合并":"确定"),1)]})),_:1},8,["onClick","color","disabled"])])],2)}var B=n(23176),S=(0,a.defineComponent)({props:{danmakuList:Array,danmakuStatue:Object,show:Boolean,isAddition:Boolean},inheritAttrs:!1,emits:{"update:show":function(e){return!0},grabDanmaku:function(e){return!0},grabDanmakuDetails:function(e){return!0},applyDanmu:function(e){return!0},contactDanmu:function(e){return!0}},setup:function(e,t){var n=t.emit,o=(0,a.getCurrentInstance)(),i=o.proxy,l=i.$magic,r=(0,a.ref)(0),s=(0,a.reactive)({danmakuId:0,danmuId:0});l._on("danmuMatch",(function(t,n){if(t)for(var a=0;a<e.danmakuList.length;a++)if(e.danmakuList[a].name===n.name){s.danmuId=a;break}}));var d=(0,a.computed)({get:function(){return e.show},set:function(e){return n("update:show",e)}}),c=function(){if(r.value++,1!==r.value){if(2===r.value){var t=e.danmakuList[s.danmakuId],a=t.danmus[s.danmuId];e.isAddition?(B.DEBUG&&console.log("当前为合并模式，执行了弹幕合并"),n("contactDanmu",{addition:[a.data]})):n("applyDanmu",{address:a.data})}else B.DEBUG&&console.error("step控制异常！");r.value--,d.value=!1}else n("grabDanmakuDetails",s.danmakuId)};return{step:r,goto:c,show:d,selected:s}}}),M=(n(66173),n(83744));const L=(0,M.Z)(S,[["render",z]]);var C=L},14057:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});n(47042),n(68309);var a=n(56598),o=n(46769),i={key:0,class:"episode-box"},l={class:"episode-box-header"},r=(0,a.createTextVNode)("mdi-playlist-play"),s={class:"episode-header-right"},d={class:"episode-progress"},c=["data-balloon"],u=(0,a.createTextVNode)(" mdi-sort-descending "),p=(0,a.createTextVNode)(" mdi-sort-ascending "),m=(0,a.createTextVNode)(" mdi-sort-variant "),f=["data-index","title"],y={key:0},g=(0,a.createTextVNode)("mdi-play"),h={key:1},v={key:2},b={key:0,class:"episode-item singleline-omit",style:{"pointer-events":"none"}};function k(e,t,n,k,x,w){return e.need_Rollbox_Show?((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("span",null,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.styles.title),1),(0,a.createVNode)(o.t,{color:"#00a1d6"},{default:(0,a.withCtx)((function(){return[r]})),_:1})]),(0,a.createElementVNode)("span",s,[(0,a.createElementVNode)("span",d,(0,a.toDisplayString)(("00"+(parseInt(e.videoPlaying.episodeId)+1)).slice(-(e.playingList.length+"").length))+"/"+(0,a.toDisplayString)(e.playingList.length),1),(0,a.createElementVNode)("span",{onClick:t[0]||(t[0]=function(t){return e.shiftSort()}),id:"episode-sort","data-balloon":1===e.haveSorted?"当前：升序排列":2===e.haveSorted?"当前：降序排列":"当前：默认排序","data-balloon-pos":"down"},[1===e.haveSorted?((0,a.openBlock)(),(0,a.createBlock)(o.t,{key:0,"tag-title":"当前：升序排列",color:"primary"},{default:(0,a.withCtx)((function(){return[u]})),_:1})):2===e.haveSorted?((0,a.openBlock)(),(0,a.createBlock)(o.t,{key:1,"tag-title":"当前：降序排列",color:"red lighten-3"},{default:(0,a.withCtx)((function(){return[p]})),_:1})):((0,a.openBlock)(),(0,a.createBlock)(o.t,{key:2,"tag-title":"当前：默认排序"},{default:(0,a.withCtx)((function(){return[m]})),_:1}))],8,c)])]),(0,a.createElementVNode)("ul",{class:"episode-box-body",onClick:t[1]||(t[1]=function(){return e.toggleToVideo&&e.toggleToVideo.apply(e,arguments)}),ref:"container"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.playingList,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:n,"data-index":n,title:t.name,class:(0,a.normalizeClass)(["episode-item singleline-omit",{"episode-active":t.id===e.videoPlaying.episodeId}])},[t.id===e.videoPlaying.episodeId?((0,a.openBlock)(),(0,a.createElementBlock)("span",y,[(0,a.createVNode)(o.t,{color:"#00a1d6",style:{display:"inline-block","margin-top":"-5px","vertical-align":"bottom"}},{default:(0,a.withCtx)((function(){return[g]})),_:1})])):(0,a.createCommentVNode)("",!0),isNaN(t.name)?((0,a.openBlock)(),(0,a.createElementBlock)("span",h,(0,a.toDisplayString)(t.name),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",v,(0,a.toDisplayString)("『 "+t.name+" 番目』"),1))],10,f)})),128)),e.playingList.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("li",b," 播放列表为空，试试添加吧！ "))],512)])):(0,a.createCommentVNode)("",!0)}n(2707),n(74916),n(15306);var x=n(35583),w=(0,a.defineComponent)({name:"episodeBox",props:{playingList:Array,need_Rollbox_Show:Boolean,videoPlaying:Object,styles:{type:Object,default:{title:"选集"}}},emits:{toggleVideo:function(e){return!0}},setup:function(e,t){var n=t.emit,o=(0,a.ref)(0),i=function(){o.value>1&&(o.value=-1),o.value++,1===o.value?e.playingList.sort((function(e,t){var n="name";return e=e[n].replace(/(.*?)第([^集话节画卷章]+?)[集话节画卷章]([^\d]*?)([\d]*?)(.*?)/g,"$2$1$4$3$5"),t=t[n].replace(/(.*?)第([^集话节画卷章]+?)[集话节画卷章]([^\d]*?)([\d]*?)(.*?)/g,"$2$1$4$3$5"),~~(parseInt(e)>parseInt(t))})):2===o.value?e.playingList.sort((function(e,t){return~~(e.id<t.id)})):e.playingList.sort((function(e,t){return~~(e.id>t.id)}))},l=(0,x.getEventDelegate)((function(e,t){var a=t.dataset["index"]||0;n("toggleVideo",~~a),this.locateItem(~~a)}),".episode-item",3),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.$refs.container,n=t.children[~~e];(0,x.lyscrollTo)({scrollBox:t,target:n,offsetTop:-36,highlight:n})};return{haveSorted:o,shiftSort:i,toggleToVideo:l,locateItem:r}}}),D=(n(53319),n(83744));const E=(0,D.Z)(w,[["render",k]]);var V=E},38979:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(89466),o=n(62390),i=(n(425),n(83744)),l=e([o]);o=(l.then?await l:l)[0];const r=(0,i.Z)(o.Z,[["render",a.s]]);t["Z"]=r}))},51478:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(95082),o=(n(9653),n(89745)),i=n(56598),l=(0,i.defineComponent)({name:"aui-number-field",props:{modelValue:{type:Number,default:0},modelModifiers:{default:function(){return{}}},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},validate:{type:Function,default:function(){return!0}},styles:{type:Object,default:{}},attributes:{type:Object,default:{}}},emits:{"update:modelValue":function(e){return!0}},setup:function(e,t){t.attrs,t.slots;var n=t.emit,l=function(t){t=parseFloat(t),(0,o.is_Number)(t)||(t=0),e.modelModifiers.round&&(t=~~t);var a=e.validate(t);a&&n("update:modelValue",t)};l(e.modelValue);var r=(0,i.ref)(null),s=function(t){var n=e.modelValue-0+e.step*(2*~~t-1);l(n),(0,i.nextTick)((function(){r.value.dispatchEvent(new Event("change"))}))},d=function(e){var t=e.target.value;l(t)};return function(){return(0,i.h)("div",{class:"aui-input-number"},[(0,i.h)("lable",{disabled:e.disabled,onClick:function(e){return s(!1)}},[(0,i.h)((0,i.resolveComponent)("v-icon"),{},(function(){return"mdi-minus"}))]),(0,i.h)("input",(0,a.Z)({type:"text",ref:r,disabled:e.disabled,value:e.modelValue,onInput:d,onKeydown:function(e){"ArrowUp"===e.key||38===e.code?s(!0):"ArrowDown"!==e.key&&40!==e.code||s(!1)}},e.attributes)),(0,i.h)("lable",{disabled:e.disabled,class:"aui-label-right",onClick:function(e){return s(!0)},"data-postfix":e.styles.postfix||null},[(0,i.h)((0,i.resolveComponent)("v-icon"),{},(function(){return"mdi-plus"}))])])}}});n(81682);const r=l;var s=r},78830:function(e,t,n){"use strict";var a=n(82109),o=n(14230),i=n(43429);a({target:"String",proto:!0,forced:i("fontsize")},{fontsize:function(e){return o(this,"font","size",e)}})},79926:function(e,t,n){"use strict";n.r(t);var a=n(8081),o=n.n(a),i=n(23645),l=n.n(i),r=l()(o());r.push([e.id,"#aui-popup .danmaku-select.resp-width-popup.layout{min-width:18em;max-width:21em;min-height:26em;display:flex;flex-direction:column;height:64%;width:30%}#aui-popup .danmaku-select{pointer-events:all;border-radius:var(--v-layer-md-radius)}#aui-popup .danmaku-select .select-step{position:relative;display:flex;justify-content:space-between;align-items:stretch;height:4.5em;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}#aui-popup .danmaku-select .select-step .step-tag{width:1.5em;height:1.5em;min-width:1.5em;transition:.3s cubic-bezier(.25,.8,.25,1);color:rgb(var(--v-theme-surface));background:rgba(var(--v-grey),1);border-radius:50%;margin-right:.25em;display:inline-flex;align-items:center;font-size:1rem;justify-content:center}#aui-popup .danmaku-select .select-step .step-active .step-tag{background:rgba(var(--v-theme-primary),1)}#aui-popup .danmaku-select .select-step>div{flex:1 1 auto;padding:0 1.25em;display:flex;justify-content:center;align-items:center}#aui-popup .danmaku-select .select-step .step-one{cursor:pointer}#aui-popup .danmaku-select .select-step .v-divider{position:absolute;left:50%;top:50%;width:18%;margin-left:-11.5%}#aui-popup .danmaku-select .select-body{display:flex;flex-direction:column;flex-grow:1}#aui-popup .danmaku-select .select-body .body-content{padding:.75em 1.25em 1.5em;flex-grow:1;display:flex;flex-direction:column}#aui-popup .danmaku-select .select-body .body-content .content-step{padding:.5em .25em;display:none;overflow-y:scroll}#aui-popup .danmaku-select .select-body .body-content .content-step.step-content-active{display:block;flex-grow:1}#aui-popup .danmaku-select .select-body .body-content .content-step ul li{margin-bottom:.375em;list-style:none;padding:0 .5em;border-radius:var(--v-layer-sm-radius)}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:first-child{display:flex;justify-content:space-between;align-items:center}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child){font-size:.875rem;cursor:pointer}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child):hover{background:#add8e6}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child).selected{background:rgba(var(--v-theme-background),1)}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child).selected:hover{background:rgba(var(--v-theme-background),calc(var(--v-hover-opacity) + .4))}#aui-popup .danmaku-select .select-body .body-content .content-step-one ul li{padding:.375em .625em}#aui-popup .danmaku-select .select-body .body-content .content-step-one ul li .danmaku-engine{display:inline-block;padding:.2em .4em .1em;background:#4b4b4b;color:#ffe246}#aui-popup .danmaku-select .select-body .body-content .content-step-one ul li .danmaku-mark{color:rgb(var(--v-theme-primary))}#aui-popup .danmaku-select .select-body .body-content .content-step-one .v-input .v-input__details,#aui-popup .danmaku-select .select-body .body-content .content-step-one .v-input .v-input__prepend{display:none}#aui-popup .danmaku-select .select-body .body-content .content-step-one .v-input .v-field__control .v-field__field .v-field__input{padding-top:8px}#aui-popup .danmaku-select .select-body .body-content .content-step-two ul li:first-child{color:rgb(var(--v-pink))}#aui-popup .danmaku-select .select-footer{display:flex;justify-content:space-around;align-items:center;height:3.5em;padding:1em 1.25em 2.25em}#aui-popup .danmaku-select .select-footer>button{flex:0 1 auto}.dark-token .danmaku-select .select-body .body-content .content-step{background-color:#444;border-color:#444}",""]),t["default"]=r},84677:function(e,t,n){"use strict";n.r(t);var a=n(8081),o=n.n(a),i=n(23645),l=n.n(i),r=l()(o());r.push([e.id,".episode-box{padding:0 .375em;border-radius:var(--v-layer-sm-radius);background:#f4f4f4;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.episode-box .episode-box-header{padding:0 .75em;height:2.625em;line-height:2.625em;border-bottom:1px dashed rgb(var(--v-grey));font-weight:400;display:flex;justify-content:space-between;flex-wrap:nowrap;align-items:center}.episode-box .episode-box-header i{text-indent:.4em}.episode-box .episode-box-header .episode-header-right{display:flex;justify-content:space-between;align-items:center}.episode-box .episode-box-header .episode-header-right .episode-progress{font-size:.75rem;padding-top:.375em;color:rgb(var(--v-grey))}.episode-box .episode-box-header #episode-sort{cursor:pointer}.episode-box .episode-box-body{padding:.625em .375em;max-height:22em;min-height:3.5em;overflow-x:hidden;overflow-y:scroll}.episode-box .episode-box-body li.episode-item{margin-bottom:.5em;padding:.5em .625em;color:#222;font-size:.75rem;border-radius:var(--v-layer-sm-radius);transition:background .3s linear;cursor:pointer;list-style:none}.episode-box .episode-box-body li.episode-item>*{vertical-align:middle}.episode-box .episode-box-body li.episode-item.episode-active{background:rgb(var(--v-theme-background),calc(var(--v-layer-opacity) + .2));color:#21acff}.episode-box .episode-box-body li.episode-item:hover{background:rgb(var(--v-theme-background),var(--v-layer-opacity));color:rgb(var(--v-theme-on-background))}.dark-token .episode-box{background:#202020}.dark-token .episode-box .episode-box-body li.episode-item{color:#ddd}",""]),t["default"]=r},74781:function(e,t,n){"use strict";n.r(t);var a=n(8081),o=n.n(a),i=n(23645),l=n.n(i),r=l()(o());r.push([e.id,".lzyplayer-container .lzyplayer-wrap{display:flex;flex-wrap:nowrap;justify-content:space-between;align-content:center;align-items:center;margin:5px auto 46px;width:100%}.lzyplayer-container .lzyplayer-wrap #lzyplayer{flex:3 1 70%}.lzyplayer-container .lzyplayer-wrap .episode-box{min-width:188px;margin-left:2.5em;flex:1 1 25%}.lzyplayer-container .lzyplayer-wrap.lzyplayer-wideplay #lzyplayer{margin-left:1.25em;margin-right:1.25em}.lzyplayer-container .lzyplayer-wrap.lzyplayer-wideplay #lzyplayer.lzyplayer-iframe{margin:0}.lzyplayer-container .lzyplayer-wrap.lzyplayer-wideplay .episode-box{display:none}.lzyplayer-container .player-terminal .terminal-danmu-header{display:flex;justify-content:space-between;align-items:center}.lzyplayer-container .player-terminal .terminal-danmu-header span:last-child{display:flex;align-items:center}.lzyplayer-container .player-terminal .terminal-danmu{display:flex;flex-wrap:wrap;justify-content:space-between;align-content:center}.lzyplayer-container .player-terminal .terminal-danmu>div{margin-bottom:.375em;display:flex;align-items:center;flex:1 1 50%}",""]),t["default"]=r},46651:function(e,t,n){"use strict";n.r(t);var a=n(8081),o=n.n(a),i=n(23645),l=n.n(i),r=l()(o());r.push([e.id,".aui-input-number{display:flex}.aui-input-number input{margin:0 .25em;padding:0 .25em;width:3.25em;border:1px solid rgb(var(--v-grey));border-radius:var(--v-layer-sm-radius);color:rgb(var(--v-theme-on-background))}.aui-input-number label{border:1px solid rgb(var(--v-lightgrey));border-radius:var(--v-layer-sm-radius)}.aui-input-number input+label{color:red}.aui-input-number .aui-label-right:before,.aui-input-number input+label:before{content:attr(data-postfix)}",""]),t["default"]=r},62390:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{Z:function(){return a.Z}});var a=n(14080),o=e([a]);a=(o.then?await o:o)[0]}))},425:function(e,t,n){"use strict";n(1797)},66173:function(e,t,n){var a=n(79926);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(54402).Z;o("55e48261",a,!0,{sourceMap:!1,shadowMode:!1})},53319:function(e,t,n){var a=n(84677);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(54402).Z;o("3850262e",a,!0,{sourceMap:!1,shadowMode:!1})},1797:function(e,t,n){var a=n(74781);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(54402).Z;o("15e23ecf",a,!0,{sourceMap:!1,shadowMode:!1})},81682:function(e,t,n){var a=n(46651);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(54402).Z;o("fdf8c164",a,!0,{sourceMap:!1,shadowMode:!1})},89466:function(e,t,n){"use strict";n.d(t,{s:function(){return D}});n(92222),n(78830);var a=n(56598),o=n(46769),i=n(76924),l={class:"lzyplayer-container"},r={class:"player-terminal"},s={class:"terminal-danmu-header"},d=(0,a.createElementVNode)("span",null,"弹幕调节",-1),c=(0,a.createTextVNode)("启用内置弹幕 "),u={class:"border-md rounded-circle","data-balloon":"弹幕库由Anime-API驱动",style:{display:"inline-block","line-height":"1.25em"}},p=(0,a.createTextVNode)("mdi-information-variant"),m={class:"terminal-danmu"},f={class:"danmu-offset"},y=(0,a.createElementVNode)("label",null,"校准弹幕时间偏移:",-1),g={class:"danmu-fontsize"},h=(0,a.createElementVNode)("label",null,"弹幕字体大小",-1),v={class:"danmu-scroll-speed"},b=(0,a.createElementVNode)("label",null,"弹幕滚动速度",-1),k={class:"danmu-fixed-duration"},x=(0,a.createElementVNode)("label",null,"固定弹幕持续时间",-1),w=(0,a.createElementVNode)("div",{class:"dlb-full"},null,-1);function D(e,t){var n=(0,a.resolveComponent)("aui-lzyplayer"),D=(0,a.resolveComponent)("episode-box"),E=(0,a.resolveComponent)("danmaku-panel"),V=(0,a.resolveComponent)("aui-number-field");return(0,a.openBlock)(),(0,a.createElementBlock)("section",l,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["lzyplayer-wrap",{"lzyplayer-wideplay":e.toolbar.wideplay}])},[(0,a.createVNode)(n,{ref:"lzyplayer",animeTemp:e.animeTemp,dlplayerConfigs:e.dlplayerOptions,toolbar:e.toolbar,onPlaynext:e.toPlaynext,onEnded:e.toEnded,onOpenSelect:t[0]||(t[0]=function(t){return e.openDanmakuPanel(!1)}),onOpenAddition:t[1]||(t[1]=function(t){return e.openDanmakuPanel(!0)})},null,8,["animeTemp","dlplayerConfigs","toolbar","onPlaynext","onEnded"]),e.need_Rollbox_Show?((0,a.openBlock)(),(0,a.createBlock)(D,{key:0,ref:"episodeBox",playingList:e.playingList,videoPlaying:e.videoPlaying,need_Rollbox_Show:e.need_Rollbox_Show,styles:{title:e.styles["epi-box-title"]},onToggleVideo:t[2]||(t[2]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.$emit.apply(e,["toggleVideo"].concat(n))})},null,8,["playingList","videoPlaying","need_Rollbox_Show","styles"])):(0,a.createCommentVNode)("",!0)],2),((0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#aui-popup"},[(0,a.withDirectives)((0,a.createVNode)(E,{ref:"danmakuPenel",show:e.panelDanmaku.show,"onUpdate:show":t[3]||(t[3]=function(t){return e.panelDanmaku.show=t}),isAddition:e.panelDanmaku.isAddition,danmakuStatue:e.danmakuStatue,danmakuList:e.danmakuList,onGrabDanmaku:t[4]||(t[4]=function(){return e.grabDanmaku.apply(e,arguments)}),onGrabDanmakuDetails:t[5]||(t[5]=function(){return e.grabDanmakuDetails.apply(e,arguments)}),onApplyDanmu:t[6]||(t[6]=function(){return e.applyDanmu.apply(e,arguments)}),onContactDanmu:t[7]||(t[7]=function(){return e.contactDanmu.apply(e,arguments)})},null,8,["show","isAddition","danmakuStatue","danmakuList"]),[[a.vShow,e.panelDanmaku.show]])])),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("h4",s,[d,(0,a.createElementVNode)("span",null,[(0,a.createElementVNode)("span",null,[c,(0,a.createElementVNode)("span",u,[(0,a.createVNode)(o.t,null,{default:(0,a.withCtx)((function(){return[p]})),_:1})])]),(0,a.createVNode)(i.G,{"hide-details":"",inset:"",color:"primary",modelValue:e.AuiSettings.enableInnerDanmaku,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.AuiSettings.enableInnerDanmaku=t})},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",f,[y,(0,a.createVNode)(V,{modelValue:e.toolbar.offsetTime,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.toolbar.offsetTime=t}),modelModifiers:{number:!0},step:.5,attributes:{style:"text-align:right;width:2.5em;"},styles:{postfix:"s"}},null,8,["modelValue","step","attributes"])]),(0,a.createElementVNode)("div",g,[h,(0,a.createVNode)(V,{modelValue:e.AuiSettings.fontsize,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.AuiSettings.fontsize=t}),modelModifiers:{number:!0},step:10,validate:function(e){return e>=50&&e<=180},attributes:{style:"text-align:right;width:2.5em;"},styles:{postfix:"%"}},null,8,["modelValue","validate","attributes"])]),(0,a.createElementVNode)("div",v,[b,(0,a.createVNode)(V,{modelValue:e.AuiSettings.speed,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.AuiSettings.speed=t}),modelModifiers:{number:!0},step:.5,validate:function(e){return e>=3&&e<=22},attributes:{style:"text-align:right;width:2.5em;"},styles:{postfix:"s"}},null,8,["modelValue","step","validate","attributes"])]),(0,a.createElementVNode)("div",k,[x,(0,a.createVNode)(V,{modelValue:e.AuiSettings.duration,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.AuiSettings.duration=t}),modelModifiers:{number:!0},step:.5,validate:function(e){return e>=3&&e<=22},attributes:{style:"text-align:right;width:2.5em;"},styles:{postfix:"s"}},null,8,["modelValue","step","validate","attributes"])])]),w])])}},43139:function(e,t,n){"use strict";e.exports=n.p+"img/default-cover.7ccf8463.png"}}]);