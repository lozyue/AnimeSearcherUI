(self["webpackChunkAnimeUI"]=self["webpackChunkAnimeUI"]||[]).push([[762],{7266:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(95082),i=n(48534),o=(n(35666),n(41539),n(78783),n(33948),n(92222),n(56598)),r=n(99172),l=n.n(r),s=n(89745),c=await n.e(497).then(n.bind(n,4516)),d=c.AuiConfig,u=(0,s.once)((0,i.Z)(regeneratorRuntime.mark((function e(){var t,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!d.AuiPlayer.hls){e.next=5;break}return e.next=3,n.e(31).then(n.t.bind(n,67631,23));case 3:t=e.sent,window["Hls"]=t.default;case 5:if(!d.AuiPlayer.flv){e.next=10;break}return e.next=8,Promise.all([n.e(184),n.e(197)]).then(n.t.bind(n,80510,23));case 8:a=e.sent,window["flvjs"]=a.default;case 10:if(!d.AuiPlayer.webtorrent){e.next=15;break}return e.next=13,Promise.all([n.e(184),n.e(415)]).then(n.t.bind(n,50861,23));case 13:i=e.sent,window["WebTorrent"]=i.default;case 15:if(!d.AuiPlayer.dash){e.next=20;break}return e.next=18,Promise.all([n.e(184),n.e(197)]).then(n.t.bind(n,97743,23));case 18:o=e.sent,window["dashjs"]=o.default;case 20:case"end":return e.stop()}}),e)})))),p=["play","pause","playing","ended","error","quality_start","canplay","fullscreen_cancel","fullscreen","settingchange","onplaynext"];t["Z"]=(0,o.defineComponent)({props:["options","animeTemp"],setup:function(e){var t=e.options||{},n={storageMode:"outer",settingStorage:{},autoplay:!1,loop:!1,theme:"#ffa3df",lang:"zh-cn",screenshot:!1,hotkey:!0,preload:!0,logo:!1,contextmenu:[],video:{defaultQuality:0,type:"auto",topbar:{title:!0,meta:!0}},danmaku:null};return(0,s.deepSupplement)(t,n),{options:t,dlp:null}},mounted:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dlp=new(l())((0,a.Z)({element:e.$el},e.options)),p.forEach((function(t){n._on(t,(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];e.$emit.apply(e,[t].concat(a))}))})),t.next=4,u();case 4:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.dlp&&this.dlp.destroy()}}),e()}),1)},22699:function(e,t,n){"use strict";n.a(e,(async function(e){n(92222),n(41539),n(54747);var a=n(50995),i=n(28157),o=n(56598),r=n(89745),l=n(23176),s=n(65490),c=e([a]);a=(c.then?await c:c)[0],t["Z"]=(0,o.defineComponent)({name:"lzyplayer",inheritAttrs:!1,props:{dlplayerConfigs:Object,animeTemp:Object,toolbar:{type:Object,default:{wideplay:!1,autoNext:!0,footerMsg:""}}},components:{"ly-dlplayer":a.Z},setup:function(e){var t=(0,o.getCurrentInstance)(),n=t.proxy,a=(0,i.AW)(),l=e.animeTemp,c=(0,r.deepSupplement)(e.dlplayerConfigs,{danmaku:{bottom:"46px",addition:[]},storageMode:"inner",settingStorage:{opacity:.9,volume:.5,danmaku:1,autoplay:1},dlbFull:!1,hotkeyProxy:!0}),d=function(){return(0,r.curveGet)(n,["$refs","dlplayer","dlp"])};(0,o.onMounted)((function(){var e=d(),t=(0,s.a8)((function(t){e._on("fullscreen",t)}),(function(t){e._on("fullscreen_cancel",t)}),l);t&&(0,o.onUnmounted)((function(){var n=t.lockHandle,a=t.unlockHandle;e._off("fullscreen",n),e._off("fullscreen_cancel",a)})),(0,o.watchEffect)((function(){d().options.dlbFull=c.dlbFull}))}));var u=(0,o.reactive)({title:"",name:"untitled",src:null,type:"auto",poster:"",topbar:null,preplay:function(e){},postplay:function(e){}});return{dlplayerOptions:c,display:a,playingMeta:u,dlpIns:d}},computed:{},methods:{playevent:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];this.$emit.apply(this,[e,this.dlpIns()].concat(n))},reloadVideo:function(){var e=this.dlpIns(),t=e.video.currentTime;e.switchVideo({pic:this.playingMeta.poster,url:this.playingMeta.src,type:this.playingMeta.type},{topbar:this.playingMeta.topbar}),e.seek(t),e.play()},lzyplay:function(e){var t={preplay:function(e){},postplay:function(e){}};Object.assign(this.playingMeta,e,t);var n=this.dlpIns();e.preplay(n),n.switchVideo({pic:e.poster,url:e.src,type:e.type},{topbar:e.topbar}),n.seek(0),n.play(),l.DEBUG&&console.warn("重置了播放对象！"),e.postplay(n)},offsetDanmuTime:function(e){this.dlpIns().danmaku.setOffsetTime(e)},toggleDanmu:function(){this.dlpIns().template.showDanmaku.click()},mute:function(){var e=0;return function(){var t=this.dlpIns(),n=t.video.volume;e<=0?t.volume(e=0):t.volume(e),e=n}}(),speedShilft:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="lzyspeedHL",a=this.dlpIns(),i=0,o=a.template.speed.children[1].children,r=o.length,l=0;i<r;i++)if(o[i].classList.contains(n)){var s=i+~~e,c=-1;return t?s<0?(l=i,c=0):s>=r?(l=i-(r-1),c=r-1):(c=s,l=i-s):(c=(r+s)%r,l=i-c),o[c].click(),l}},focusIt:function(){var e=this.dlpIns();e.focus=!0,e.video.focus()},applyDanmu:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","token","maxium"],a=function(t){var a="";n.forEach((function(t,n,i){(0,r.is_Defined)(e[t])&&(0!==n&&(a+="&"),a+="".concat(t,"=").concat(e[t]))}));var i=t.lastIndexOf("?"),o=t.lastIndexOf("/");return a.length?i>o?i===t.length-1?t+a:(0,s.ay)(t,"&",2)+a:t+"?"+a:t};l.DEBUG&&(window["addModifier"]=a),e.address=a(e.address),null===(t=e.addition)||void 0===t||t.forEach((function(e,t,n){n[t]=a(e)})),l.DEBUG&&console.log({danmuData:e}),this.dlpIns().reloadDanmu(e)},contactDanmu:function(e){this.dlpIns().danmaku.contact(e)},hotkeyResp:function(e,t){var n,a,i=null===(n=document.activeElement)||void 0===n?void 0:n.tagName.toUpperCase(),o=null===(a=document.activeElement)||void 0===a?void 0:a.getAttribute("contenteditable");"INPUT"!==i&&"TEXTAREA"!==i&&""!==o&&"true"!==o&&this.dlpIns().hotkey.hotkeyResp(e,t)}},mounted:function(){var e=this,t=(this.display.platform.value,this.$magic.utils.addToInterface);t((function(t){t(e.dlpIns(),e)}),"auiplayer")},unmounted:function(){}})}))},91074:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{d:function(){return y}});var a=n(56084),i=(n(92222),n(68309),n(74916),n(64765),n(41539),n(54747),n(47042),n(82526),n(41817),n(15306),n(23123),n(38862),n(56598)),o=n(23176),r=n(65490),l=n(35583),s=n(89745),c=n(53374),d=n(53691),u=e([c]);c=(u.then?await u:u)[0];var p=["pink","purple","green","blue","orange","cream"],m=~~(Math.random()*p.length),f=new Function,y="967";t["Z"]=(0,i.defineComponent)({name:"Details",inheritAttrs:!1,components:{"player-region":c.Z},props:["animeTemp"],setup:function(e,t){var n=t.emit,l=(0,i.getCurrentInstance)(),c=l.proxy,u=c.$magic,p=function(e){var t=this;this.videoPlaying.isPrepared||this.$magic.utility.clearNotice(),this.videoPlaying.isPrepared=!0,f();var n=(0,r.nG)((function(n){var a=n.data;(0,s.deepAssign)(t.videoPlaying,{format:a.format,lifetime:a.lifetime,size:a.size,quality:[{name:"1080P",url:a.raw_url,type:a.format},{name:"代理",url:a.proxy_url,type:a.format}]});var i=t.$refs.playerRegion;i.playIt({useProxy:t.playStatus.isProxy,preplay:function(e,t){},postplay:function(n,a){t.videoPlaying.isPrepared=!0,e(i,a,n)}})})),i=(0,a.Z)(n,2),o=i[0],l=i[1];f=l,this.$magic.http.get(this.videoPlaying.info).then((function(e){o(e)})),window.document.title="".concat(this.videoPlaying.name,"·").concat(this.animeMeta.title)};(0,i.onUnmounted)((function(){window.document.title=o.DocumentDefaultTitle,u.utility.clearNotice(!1),n("toggle_searchBox",!0)}));var m={defaultQuality:0,type:"auto",topbar:{title:!0,meta:!0},currentPath:"",quality:[{name:"1080P",url:"",type:"auto"}]},y=(0,i.reactive)({videoList:0,listTitle:"",episodeId:-1,name:"",danmuList:[],isPrepared:!1,player:m}),g=(0,i.reactive)({title:"",description:"",category:"",cover:"",module:""}),h=(0,i.reactive)([{name:"",video_list:[]}]),v=(0,i.ref)([]),b=(0,i.reactive)({loading:!0,search:""}),k=function(e){var t=g.title,n=h[y.videoList],a={title:t,episodeNum:n.video_list.length},i=(0,d.qv)(e,a);v.value=i},x=new Function,w=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o.DEBUG&&console.log("搜索了弹幕：",t);var n=t&&(b.search=t)||b.search||this.animeMeta.title;if(!n)return o.DEBUG&&console.log("Danmaku Search is Vacant!"),!1;b.loading=!0,this.$magic.http.get("/danmaku/search/"+n).then((function(t){var a=t.data;if((0,s.is_Empty)(a)||!(0,s.is_Object)(a))return e.$magic.utility.lzynotice({content:"弹幕库为空或加载弹幕库失败",semantic:"error",position:"center",duration:9}),b.loading=!1,Promise.reject("The grabbed data is vacant with Searching word: ".concat(n));x(),x=(0,i.watchEffect)((function(){h[y.videoList]&&!(0,s.is_Empty)(h[y.videoList].video_list)&&(k(a),o.DEBUG&&console.log("The sort mark of danmaku is re-calculated!"))})),b.loading=!1,e.$magic._trigger("danmakuLoaded",!0)})).catch((function(t){b.loading=!1,console.warn(t),e.$magic._trigger("danmakuLoaded",!1)}))},E=function(e,t){var n=(0,d.nh)(e,t);if(n>-1){var a=y.danmuList;a.push((0,r.ay)(e[n].url,"/",2)),a.forEach((function(e,t,n){n[t]=e+"v3/?"}));var i={address:a[0],addition:a.slice(1)};c.$refs.playerRegion.applyDanmu(i),u._trigger("danmuMatch",!0,e[n])}else u.utility.lzynotice({content:"自动匹配弹幕失败，请手动选择",semantic:"warning",position:"center",duration:9}),u._trigger("danmuMatch",!1)},D=function e(t){var n=this;if((0,s.is_Object)(v.value[0])&&!(0,s.curveGet)(v.value,[0,"danmus"]))V(0).then((function(a){a===v.value[0]?E.call(n,a.danmus,t):e(t)}));else{if(!v.value[0])return o.DEBUG&&console.log("[Details]: Danmu applying is blocked cause the danmaku is not loaded!",(0,s.deepClone)(v.value),v.value),!1;var a=(0,s.curveGet)(v.value,[0,"danmus"]);E.call(this,a,t)}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=v.value[e];if(o.DEBUG&&console.log("当前弹幕列表不存在id为:",{id:e,danmakuList:v.value}),!t)return o.DEBUG&&console.error("所选弹幕源不存在！"),!1;var n=(0,s.curveGet)(t,["data","url"]);return u._isHappened("danmakuLoaded")?(b.loading=!0,u.http(n).then((function(e){var n=e.data;return(0,s.curveSet)(t,["danmus"],n),b.loading=!1,t})).catch((function(e){b.loading=!1,console.log(e)}))):(o.DEBUG&&console.log("[Details]: Danmu applying is blocked cause the danmaku is not loaded!"),u.utility.lzynotice({content:"动作太快啦，请先让弹幕君缓缓！",position:"side",semantic:"info"}),!1)};return{goPlay:p,videoPlaying:y,firstTime:!1,animeMeta:g,playList:h,danmakuStatue:b,danmakuList:v,calcCurrentMatch:k,grabDanmaku:w,startToMatchDanmu:D,grabDanmakuDetails:V}},data:function(){return{playStatus:{isProxy:!1,qualityList:0,type:"auto"},showing:{playListID:0},progress:{exporting:!1,current:-1,success:0,failed:0,total:-1}}},computed:{},methods:{parseAnimeData:function(e){this.animeMeta.title=e.title,this.animeMeta.description=e.description.replace(/&nbsp;/g," "),this.animeMeta.category=e.category.split(/[\s,，|]/),this.animeMeta.cover=e.cover_url,this.animeMeta.module=e.module.substr(1+e.module.lastIndexOf("."));var t=e.play_lists;this.playList.shift();for(var n=0;n<t.length;n++){for(var a={name:"",video_list:[]},i=0;i<t[n].video_list.length;i++)!0!==(0,s.curveSet)(t,[n,"video_list",i,"id"],i)&&o.DEBUG&&console.warn("The path of PList".concat([n,"video_list",i,"id"]," is not existed"),t);(0,s.deepAssign)(a,t[n]),this.playList.push(a)}},themeColorRandom:function(e){return"--v-".concat(p[(m+e)%p.length])},toggleToListVideo:(0,l.getEventDelegate)((function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=~~t.dataset["videoIndex"]||0,o=this.playList[this.showing.playListID].video_list[i];if(this.videoPlaying.episodeId===i&&this.videoPlaying.videoList===this.showing.playListID)return!1;Object.assign(this.videoPlaying,{videoList:this.showing.playListID,listTitle:this.playList[this.showing.playListID].name,episodeId:i,name:o.name,info:o.info,danmuList:a.danmuList||[]});var r={name:o.name,episodeNum:i};this.startToMatchDanmu(r),this.$nextTick((function(){n.$refs.playerRegion.relocatePlayer()})),this.goPlay((function(e,t,i){!n.firstTime&&n.$nextTick((function(){t.relocatePlayer()})),n.firstTime=!0,t.focusIt(),a.postplay&&a.postplay(e,t,i)})),this.$router.push({query:{epi:this.videoPlaying.name}})}),".video-play",3),toggleToRollboxVideo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.showing.playListID=this.videoPlaying.videoList,!(0,s.curveGet)(this.playList,[this.showing.playListID,"video_list",e]))return o.DEBUG&&console.warn("[playerRegion]: 当前视频集不存在：index=".concat(e),this.playList,this.showing.playListID),t.callback&&t.callback(!1),!1;var n={type:"click",target:{dataset:{videoIndex:e},class:"video-play",matches:function(){return!0}}};return this.toggleToListVideo(n,t),t.callback&&t.callback(!0),!0},exportPlayList:function(){var e=this,t=this.playList[this.showing.playListID],n=t.video_list,a={title:this.animeMeta.title,infos:{cover:this.animeMeta.cover,tags:this.animeMeta.category,desc:this.animeMeta.description},list_title:t.name,playList:[],playing:{pointer:this.videoPlaying.episodeId,danmakuSearch:this.danmakuStatue.search}};this.progress.total=n.length,this.progress.exporting=!0;var i=this.$magic.actionQueue,o=this.$magic.http,r=0,s=function s(){if(r>=n.length)return(0,l.fileExport)(JSON.stringify(a),"".concat(a.title,"-").concat(t.name,".json"),"application/json"),!0;var c=function(){r++,i.bubble(s,1+~~(3*Math.random()))};o.get(n[r].info+"/href").then((function(t){var i=t.data,o={name:n[r].name,src:i.real_url,thumb:"",quality:[{caption:"animeAPI",src:i.raw_url},{caption:"animeAPI-Proxy",src:i.proxy_url}],is_enforce:i.is_enforce};a.playList.push(o),e.progress.success++,c()})).catch((function(){e.progress.failed++,c()}))};s()}},beforeMount:function(){this.$emit("toggle_searchBox",!1)},mounted:function(){var e=this,t=this,n=function(e){t.$refs.playerRegion.toolbar.footerMsg="弹幕库".concat(e?"已成功加载":"加载失败,更换搜索词试试")},a=function(e,n){t.$refs.playerRegion.toolbar.footerMsg=e?'弹幕集匹配成功: <span class="text-success">'.concat(n.name,"</span>"):'<span class="text-warning">弹幕集匹配失败，请调整配置或手动选择</span>'};this.$magic._on("danmakuLoaded",n),this.$magic._on("danmuMatch",a),(0,i.onUnmounted)((function(){e.$magic._off("danmakuLoaded",n),e.$magic._off("danmuMatch",a)}))},beforeRouteEnter:function(e,t,n){n((function(t){var n=t;n.$magic.http.get("anime/".concat(e.params.animeID)).then((function(e){var a=e.data;if((0,s.is_Empty)(a)||!(0,s.is_PlainObject)(a))return t.$magic.utility.lzynotice({content:"获取详情失败了，试试其他的吧！",position:"side",semantic:"error",duration:0}),!1;n.parseAnimeData(a),n.$nextTick((function(){n.$magic._trigger("animeDataLoaded",n.animeMeta)})),n.grabDanmaku()}))}))}})}))},32421:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(95082),i=(n(2707),n(74916),n(15306),n(68309),n(92222),n(35583)),o=n(51478),r=n(96471),l=n(16078),s=n(12632),c=n(28157),d=n(56598),u=n(23160),p=n(89745),m=n(23176),f=n(65490),y=n(93204),g=n(86688),h=e([g,y,u,r]);[g,y,u,r]=h.then?await h:h;var v=!0;t["Z"]=(0,d.defineComponent)({name:"player-region",inheritAttrs:!1,props:["animeTemp","animeMeta","playing","playingList","danmakuStatue","danmakuList"],components:{"aui-lzyplayer":r.Z,"danmaku-panel":l.Z,"aui-number-field":o.Z},emits:{grabDanmaku:function(){return!0},grabDanmakuDetails:function(){return!0},toggleVideo:function(e){return!0}},setup:function(e){var t=(0,d.getCurrentInstance)(),n=t.proxy,i=null===t||void 0===t?void 0:t.appContext.config.globalProperties.$magic,o=(i.actionQueue,e.animeTemp,e.playing),r=(e.playingList,e.danmakuStatue),l=(0,s.g)(n,d.onUnmounted),f=(0,c.AW)(),h=(0,d.computed)((function(){return!e.animeTemp.isMobile&&f.width.value>u.Rollbox_BreakPoint})),b=(0,d.reactive)({wideplay:!1,autoNext:!0,footerMsg:"弹幕库载入为空,修改搜索词试试~",offsetTime:0}),k=(0,d.reactive)({opacity:1,volume:.5,danmaku:1,autoplay:1,danmuArea:"default",orbitGap:8,speed:8,duration:5,fontSize:"1.25rem",autoNext:!0}),x=new n.$Lycabinet("auiPlayer-prefer",(0,a.Z)({initStorage:k},(0,y.VM)(i))),w=null;(0,d.onMounted)((function(){w=n.$refs.lzyplayer.dlpIns(),m.DEBUG&&(window["dlpIns"]=w)})),(0,d.watch)((function(){return k}),(function(e,t){m.DEBUG&&console.log("[player-region]: AuiPlayer Preference is changed!"),x.lazySave()}),{deep:!0}),x._on("loaded",(function(){b.autoNext=k.autoNext})),(0,d.watchEffect)((function(){k.autoNext=b.autoNext})),(0,d.onMounted)((function(){(0,d.nextTick)((function(){(0,d.watchEffect)((function(){(0,p.curveSet)(w,["danmaku","options","orbitGap"],k.orbitGap)})),(0,d.watchEffect)((function(){w.danmaku.setDanmuSpeed(k.speed)})),(0,d.watchEffect)((function(){w.danmaku.setDanmuDuration(k.duration)})),(0,d.watchEffect)((function(){w.danmaku.setDanmuFontSize(k.fontSize)})),(0,d.watchEffect)((function(){m.DEBUG&&console.log("设定了弹幕偏移！"),n.$refs.lzyplayer.offsetDanmuTime(b.offsetTime)}))}))}));var E=(0,d.ref)(0),D=function(){E.value>1&&(E.value=-1),E.value++,1===E.value?e.playingList.sort((function(e,t){var n="name";return e=e[n].replace(/(.*?)第([^集话节画卷章]+?)[集话节画卷章]([^\d]*?)([\d]*?)(.*?)/g,"$2$1$4$3$5"),t=t[n].replace(/(.*?)第([^集话节画卷章]+?)[集话节画卷章]([^\d]*?)([\d]*?)(.*?)/g,"$2$1$4$3$5"),~~(parseInt(e)>parseInt(t))})):2===E.value?e.playingList.sort((function(e,t){return~~(e.id<t.id)})):e.playingList.sort((function(e,t){return~~(e.id>t.id)}))},V=(0,p.deepAssign)({video:o.player},{danmaku:{bottom:"46px",addition:[]},storageMode:"outer",settingStorage:k,hotkeyProxy:!0});return(0,g.N)({_self:n,$magic:i,dlplayerOptions:V,getDlpIns:function(){return w},playing:o,animeMeta:e.animeMeta,danmakuStatue:r,DEBUG:m.DEBUG,LocalDebug:v}),{display:f,need_Rollbox_Show:h,haveSorted:E,shiftSort:D,AuiSettings:k,toolbar:b,dlplayerOptions:V,getDlpIns:function(){return w},hotkeyList:l}},data:function(){return{panelDanmaku:{show:!1,isAddition:!1}}},computed:{},methods:{playIt:function(e){var t=this,n=e.useProxy,a=e.preplay,o=e.postplay,r=this.playing,l={title:this.animeMeta.title,name:r.name,src:r.quality[~~n].url,type:r.quality[~~n].type,topbar:{title:r.name,meta:"#".concat(r.episodeId+1," / ").concat(this.playingList.length)}};if(a&&(l.preplay=function(e){a(e,t),t.toolbar.offsetTime=0}),o&&(l.postplay=function(e){o(e,t)}),this.$refs.lzyplayer.lzyplay(l),this.need_Rollbox_Show){var s=this.$refs.episodebox;(0,i.lyscrollTo)({scrollBox:s,target:s.children[r.episodeId],offsetTop:-36})}},toPlaynext:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.playingList.length,i=(a+this.playing.episodeId+(n?-1:1))%a;this.$emit("toggleVideo",i,{callback:function(n){if(n)e.notice("即将播放下一集：".concat(t.playingList[i].name),{priority:2});else{var a=new Function,o="已至最后一集了，将循环播放";e.notice(o,{cancel:a,cancelText:"取消",action:function(e){var t=this;(0,f.i7)({count:3,action:function(t,n){e.innerHTML=o+"(".concat(t,")s"),a=n},done:function(){return t.$emit("toggleVideo",0)}})},priority:2})}}})},toEnded:function(e){this.toolbar.autoNext&&this.toPlaynext(e)},toggleToVideo:(0,i.getEventDelegate)((function(e,t){var n=t.dataset["index"]||0;this.$emit("toggleVideo",n)}),".episode-item",3),focusIt:function(){this.$refs.lzyplayer.focusIt()},applyDanmu:function(e){this.$refs.lzyplayer.applyDanmu(e)},contactDanmu:function(e){m.DEBUG&&console.log("[lzyplayer]: Executed Danmu Contact",e),this.$refs.lzyplayer.contactDanmu(e)},relocatePlayer:function(){var e=this.$refs.lzyplayer.$el;e&&this.$magic.utils.lyscrollTo({target:e,offsetTop:-77})}},mounted:function(){var e=this;this.$emit("toggle_searchBox",!1);var t=this.display.platform.value;t.chrome;var n=this.$refs.lzyplayer.dlpIns();m.DEBUG&&(window["lzyplayer"]=this.$refs.lzyplayer,window["playerRegion"]=this),this.$nextTick((function(){(0,d.watchEffect)((function(){var t=n.container;e.toolbar.wideplay?t.classList.add("dlp-screen-widen"):t.classList.remove("dlp-screen-widen"),e.$nextTick((function(){n.resize()}))}))})),this.toUnmounted=[];var a=this.$magic;a.utils.addToInterface((function(t){var i=t.invoke;t.invoke=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i.apply(void 0,[n].concat(t))},a.utility.registerShortcut(t),e.toUnmounted.push((function(){a.utility.unregisterShortcut(t.name,!0)}))}),"addPlayerHotkey"),a._trigger("auiplayer-mounted")},unmounted:function(){this.$emit("toggle_searchBox",!0);while(this.toUnmounted.length)this.toUnmounted.pop()(this);var e=this.$magic;e.utils.removeInInterface("addPlayerHotkey")}})}))},53691:function(e,t,n){"use strict";n.d(t,{qv:function(){return u},nh:function(){return p}});n(92222),n(26699),n(32023),n(69600),n(2707),n(74916),n(15306),n(41539),n(47042),n(68309),n(4723),n(21249);var a=n(23176),i=!0,o=["〇零","一壹","二贰","三叁","四肆","五伍","六陆","七柒","八捌","九玖"],r=20,l=["十拾","百佰","千仟","万萬"],s=function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].includes(e))return n;return n},c=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=o.join("")+l.join(""),a=o.concat(l),i=n.length,c=0;c<e.length;c++){for(var d=-1,u=i-1;u>=0;u--)if(n[i-u-1]===e[c]){d=i-u-1;break}if(d>-1){var p=0,m=-1,f=-1,y=c;do{if(d<r){if(m=s(e[c],o),f=s(e[c+1],l),m&&(p+=m*Math.pow(10,f+1)),d=s(e[c+1],a),c+=2,-1===d||-1===m)break}else m=s(e[c],l),p+=Math.pow(10,m+1),c++,d=s(e[c],a)}while(d>-1);var g=p+"";if(!t)return g;e=e.substring(0,y)+g+e.substring(y+c-y-1)}}return e};a.DEBUG&&(window["ZH_HardToNums"]=c);var d={bilibili:1/24,tencent:1/36,iqiyi:1/36},u=function(e,t){var n,o=t.title,r=t.episodeNum;return n=f(e,o,(function(e,t,n){r+""===e.num+""?n+=~~(Math.log(r+1)*(r-Math.abs(e.num-r))):n+=~~(r-Math.abs(e.num-r)),a.DEBUG&&i&&console.log("集数对称差加权结果：",n);var o=e.module.slice(1+e.module.lastIndexOf("."));for(var l in d)if(l===o){n+=Math.abs(~~(d[l]*n));break}return a.DEBUG&&i&&console.log("信赖源加权结果：",n),n})),n.sort((function(e,t){return t.mark-e.mark}))},p=function(e,t){a.DEBUG&&console.log({danmaku:e,matchInstruction:t});var n=t.name,i=(t.episodeNum,/第?(.+?)[集话节画卷章]/),o=/(?:OVA.+)|(?:SP.+)|(?:PV.+)/i,r=/(?:\[.+?\])|(?:【.+?】)/g;n=n.replace(r,"");var l=n.match(i),s=n.match(o),c=parseInt(m(n)),d=Object.create(null);if(l){var u;a.DEBUG&&console.log("[lzyplayer]: 进入集数标识子集匹配; resultOne",l);for(var p=0;p<e.length;p++){if(e[p].name.indexOf(l[0])>-1)return a.DEBUG&&console.log("[lzyplayer]: 集数标识子集匹配成功;id: ".concat(p,",name: ").concat(e[p].name)),p;if(u=e[p].name.match(i),u&&parseFloat(u[1])===parseFloat(l[1]))return a.DEBUG&&console.log("[lzyplayer]: 集数标识双向正则匹配成功;id: ".concat(p,",name: ").concat(e[p].name)),p;if(d[p]||(d[p]=parseFloat(m(e[p].name))),parseFloat(l[1])===parseFloat(d[p]))return a.DEBUG&&console.log("[lzyplayer]: 集数标识数字数值匹配成功;id: ".concat(p,",name: ").concat(e[p].name)),p}}else if(s){a.DEBUG&&console.log("[lzyplayer]: 进入关键字子集匹配; resultTwo",s);for(var y=0;y<e.length;y++){if(e[y].name.indexOf(s[0])>-1)return a.DEBUG&&console.log("[lzyplayer]: 关键字子集匹配成功;id: ".concat(y,",name: ").concat(e[y].name)),y;if(d[y]||(d[y]=parseFloat(m(e[y].name))),parseFloat(s[1])===d[y])return a.DEBUG&&console.log("[lzyplayer]: 精确数字匹配成功;id: ".concat(y,",name: ").concat(e[y].name)),y}}else{if(!c){var g,h=0,v=e.map((function(e){return{title:e.name,num:e.name.length}}));return g=f(v,n),g.sort((function(e,t){return t.mark-e.mark})),a.DEBUG&&console.log("[lzyplayer]: 字符模糊相似排序匹配成功;id: ".concat(g[h].id,",name: ").concat(g[h].data.name)),g[h].id}a.DEBUG&&console.log("[lzyplayer]: 进入模糊数字匹配; playingTitleNumbers: ".concat(c));for(var b=0;b<e.length;b++)if(d[b]||(d[b]=parseFloat(m(e[b].name))),d[b]===c)return a.DEBUG&&console.log("[lzyplayer]: 模糊数字匹配成功;id: ".concat(b,",name: ").concat(e[b].name)),b}return-1};function m(e){var t="",n="";e=c(e,!0);for(var a=0;a<e.length;a++)n=e[a],isNaN(n)&&"."!==n||(t+=n);return t}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.map((function(e,o,r){e.id=o;for(var l=0,s=-1,c=-1,d=0;d<t.length;d++)s=e.title.slice(d).indexOf(t[d])+d,s>-1&&(c+1===s?l+=4:c<s?l+=2:c>s&&(l+=1)),c=s;return a.DEBUG&&i&&console.log("字符连续相似搜索匹配结果：",l),l+=t.length-Math.abs(e.title.length-t.length)*Math.log(t.length),a.DEBUG&&i&&console.log("标题长度对称差加权结果：",l),n&&(l=n(e,t,l)),{mark:l,id:o,data:r[o]}}))}},86688:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{N:function(){return c}});var a=n(95082),i=(n(68309),n(74916),n(64765),n(92222),n(41539),n(40561),n(56598)),o=n(93204),r=n(89745),l=n(65490),s=e([o]);function c(e){var t=e._self,n=e.$magic,s=e.getDlpIns,c=e.dlplayerOptions,d=e.playing,u=e.animeMeta,p=e.danmakuStatue,m=e.DEBUG,f=e.LocalDebug,y=n.actionQueue,g=new t.$Lycabinet("anime-hstr-play",(0,a.Z)({},(0,o.VM)(n))),h=[],v=function(){y.revoke(-1,(function(e){}))},b=function e(a,i){var o=g.get("historylist"),s=i.title;if(!s)return y.bubble((function(){e(a,i)}),1),!1;for(var u=0;u<o.length;u++)if(o[u].title===s)break;var v=function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.video.paused&&!n)return!1;var l={title:s,name:d.name,url:t.$route.params.animeID,line:d.videoList,epi:d.episodeId,time:~~a.video.currentTime,date:(0,r.dateFormatter)("yy-MM-dd HH:mm:ss"),eng:i.module,cover:i.cover,danmus:(null===(e=c.danmaku)||void 0===e?void 0:e.addition)||[],danmakuSearch:p.search};o[u]=l,(0,r.moveArrayItem)(o,u,0),u=0,m&&f&&console.log("完成了一次历史记录采样",l),g.save()};y.registerHook({name:"history-play",loop:!0,once:!0,debounce:!0,action:v}),y.bubble("history-play",-1),a._on("pause",v);var b=o[u],k=function(e){t.playing.videoList=b.line,p.search=b.danmakuSearch,t.$emit("toggleVideo",b.epi,{danmuList:b.danmus||[],postplay:function(e,t,n){n.seek(~~b.time)}})},x=function(){var e='style="color:#eaf;cursor:pointer;font-weight:bold;"',t=n.utility.lzynotice({content:"上次观看『<span ".concat(e,">").concat(o[u].name,"</span>』至 <span ").concat(e,">").concat((0,l.gk)(o[u].time),"</span>"),position:"side",duration:0,semantic:"info",match:"span",onMatched:k,onMissed:k});h.push(t)};(0,r.is_Defined)(b)?x():m&&console.log("没有找到符合的历史记录")},k="animeDataLoaded";(0,i.onMounted)((function(){var e=s();n._isHappened(k)?(0,i.nextTick)((function(){b(e,u),n._resetCounter(k)})):n._once(k,(function(t){b(e,t),n._resetCounter(k)}),!0)})),(0,i.onUnmounted)((function(){v(),h.forEach((function(e){n.utility.lzynotice(e,!0)})),h.splice(0,h.length)}))}o=(s.then?await s:s)[0]}))},12632:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var a=n(89745),i=n(23176),o=!1,r=function(e,t){return[{name:"toggle-danmu",descriptions:"切换弹幕显示",commonKey:"D",invoke:function(){e.$refs.lzyplayer.toggleDanmu()}},{name:"toggle-mute",descriptions:"快速切换播放器静音",commonKey:"M",invoke:function(){e.$refs.lzyplayer.mute()}},{name:"next-episode",descriptions:"播放下一集",commonKey:"]",invoke:function(t){e.$refs.lzyplayer.playevent("playnext")}},{name:"pre-episode",descriptions:"播放上一集",commonKey:"[",invoke:function(t){e.$refs.lzyplayer.playevent("playnext",!0)}},{name:"player-relocate",descriptions:"滚动定位并聚焦到播放器",commonKey:"R",invoke:function(t){e.relocatePlayer(),e.$refs.lzyplayer.focusIt()}},{name:"player-full",descriptions:"播放器全屏",commonKey:"F",invoke:function(t){e.$refs.lzyplayer.hotkeyResp("f",t)}},{name:"player-webfull",descriptions:"播放器网页全屏",commonKey:"W",invoke:function(t){var n=(0,a.curveGet)(e,["$refs","lzyplayer","$refs","dlplayer","dlp","fullScreen"]);(0,a.is_Empty)(n)||n.toggle("web")}},{name:"player-forward",descriptions:"方向键→短按前进5s,长按倍速播放",commonKey:"ArrowRight",invoke:function(){var n=!1,a=0,r=0,l=0,s=function(t){"ArrowRight"===t.code&&a>0&&(o&&i.DEBUG&&console.log("onkeyup",{counts:a,gearGap:r,onceActive:n}),e.$refs.lzyplayer.speedShilft(r),n=!1,a=0,r=0)};return t((function(){window.removeEventListener("keyup",s)})),window.addEventListener("keyup",s),function(t){o&&i.DEBUG&&console.log("keydown",{counts:a,gearGap:r,onceActive:n,eve:t}),!0!==n&&(clearTimeout(l),l=setTimeout((function(){a<=0?e.$refs.lzyplayer.hotkeyResp("right",t):r=e.$refs.lzyplayer.speedShilft(4)}),175),a++,n=!0)}}()},{name:"player-backward",descriptions:"方向键←视频播放后退5s",commonKey:"ArrowLeft",invoke:function(t){e.$refs.lzyplayer.hotkeyResp("left",t)}},{name:"player-up",descriptions:"方向键↑播放器提高5%",commonKey:"ArrowUp",invoke:function(t){e.$refs.lzyplayer.hotkeyResp("up",t)}},{name:"player-down",descriptions:"方向键↓播放器音量减小5%",commonKey:"ArrowDown",invoke:function(t){e.$refs.lzyplayer.hotkeyResp("down",t)}},{name:"player-pause",descriptions:"播放器的播放暂停的切换",commonKey:" ",invoke:function(t){t.preventDefault(),e.$refs.lzyplayer.hotkeyResp("space",t)}},{name:"player-esc",descriptions:"ESC键退出全屏播放",commonKey:"Escape",invoke:function(t){e.$refs.lzyplayer.hotkeyResp("ESC",t)}}]}},16078:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});n(74916),n(64765),n(56977),n(68309);var a=n(56598),i=n(52653),o=n(46769),r=n(1956),l=n(165),s=n(72595),c={class:(0,a.normalizeClass)(["select-step","select-addition"])},d=(0,a.createElementVNode)("span",{class:"step-tag"},"1",-1),u=(0,a.createElementVNode)("hr",{class:"v-divider"},null,-1),p=(0,a.createElementVNode)("span",{class:"step-tag"},"2",-1),m=(0,a.createElementVNode)("span",null,"当前番目弹幕",-1),f=[p,m],y={class:"select-body"},g={class:"body-content"},h={key:"0"},v=(0,a.createTextVNode)("mdi-refresh"),b=["onClick","data-id"],k={class:"ml-2 danmaku-engine"},x={class:"ml-2 danmaku-mark"},w={key:"0"},E=["onClick"],D={class:"mr-2",style:{display:"inline-block",color:"#21acff"}},V={class:(0,a.normalizeClass)(["select-footer","select-addition"])},N=(0,a.createTextVNode)("Close"),z=(0,a.createElementVNode)("div",{style:{flex:"1 1 auto"}},null,-1);function _(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["danmaku-select layout resp-width-popup bg-background","select-step-".concat(e.step)])},[(0,a.createElementVNode)("div",c,[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["step-one",{"step-active":0===e.step}]),onClick:t[0]||(t[0]=function(t){return e.step=0})},[d,(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.isAddition?"合并弹幕源":"选择弹幕源"),1)],2)),[[s.H]]),u,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["step-two",{"step-active":1===e.step}])},f,2)]),(0,a.createElementVNode)("div",y,[(0,a.createVNode)(r.K,{active:e.danmakuStatue.loading,indeterminate:e.danmakuStatue.loading,color:"deep-purple accent-4"},null,8,["active","indeterminate"]),(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["content-step content-step-one",{"step-content-active":0===e.step||e.danmakuStatue.loading}])},[(0,a.createVNode)(l.h,{onKeyup:t[1]||(t[1]=(0,a.withKeys)((function(t){return e.$emit("grabDanmaku",e.danmakuStatue.search)}),["enter"])),small:"","hide-details":"auto",density:"compact",modelValue:e.danmakuStatue.search,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.danmakuStatue.search=t}),"aria-autocomplete":"off",autocomplete:"off","prepend-inner-icon":"mdi-text-box-search-outline"},null,8,["modelValue"]),(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",h,[(0,a.createElementVNode)("span",null,"共找到 "+(0,a.toDisplayString)(e.danmakuList.length)+" 个弹幕源",1),(0,a.createVNode)(i.T,{title:"刷新",size:"x-small",icon:"",color:"transparent",onClick:t[3]||(t[3]=function(t){return e.$emit("grabDanmaku","")})},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(o.t,null,{default:(0,a.withCtx)((function(){return[v]})),_:1})]})),_:1})]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.danmakuList,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:-n,onClick:(0,a.withModifiers)((function(t){return e.selected.danmakuId=n}),["stop"]),class:(0,a.normalizeClass)([{selected:n===e.selected.danmakuId}]),"data-id":n},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.data.title),1),(0,a.createElementVNode)("code",k,(0,a.toDisplayString)(t.data.module.substr(t.data.module.lastIndexOf(".")+1,t.data.module.length)),1),(0,a.createElementVNode)("span",x,"Mark: "+(0,a.toDisplayString)(t.mark.toFixed(0)),1)],10,b)})),128))])],2),e.danmakuList[e.selected.danmakuId]&&e.danmakuList[e.selected.danmakuId].danmus?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["content-step content-step-two",{"step-content-active":1===e.step&&!e.danmakuStatue.loading}])},[(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",w,"共找到 "+(0,a.toDisplayString)(e.danmakuList[e.selected.danmakuId].danmus.length)+" 条弹幕集",1),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.danmakuList[e.selected.danmakuId].danmus,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:n,class:(0,a.normalizeClass)([{selected:n===e.selected.danmuId}]),onClick:function(t){return e.selected.danmuId=n}},[(0,a.createElementVNode)("span",D,"标题"+(0,a.toDisplayString)(n+1)+"：",1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.name),1)],10,E)})),128))])],2)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(i.T,{onClick:t[4]||(t[4]=function(t){return e.show=!1})},{default:(0,a.withCtx)((function(){return[N]})),_:1}),z,(0,a.createVNode)(i.T,{onClick:e.goto,color:e.isAddition?"quaternary":"primary",disabled:e.danmakuStatue.loading},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(0===e.step?"Next":e.isAddition?"合并":"确定"),1)]})),_:1},8,["onClick","color","disabled"])])],2)}var M=n(23176),B=(0,a.defineComponent)({props:{danmakuList:Array,danmakuStatue:Object,show:Boolean,isAddition:Boolean},inheritAttrs:!1,emits:{"update:show":function(e){return!0},grabDanmaku:function(e){return!0},grabDanmakuDetails:function(e){return!0},applyDanmu:function(e){return!0},contactDanmu:function(e){return!0}},setup:function(e,t){var n=t.emit,i=(0,a.getCurrentInstance)(),o=i.proxy,r=o.$magic,l=(0,a.ref)(0),s=(0,a.reactive)({danmakuId:0,danmuId:0});r._on("danmuMatch",(function(t,n){if(t)for(var a=0;a<e.danmakuList.length;a++)if(e.danmakuList[a].name===n.name){s.danmuId=a;break}}));var c=(0,a.computed)({get:function(){return e.show},set:function(e){return n("update:show",e)}}),d=function(){if(l.value++,1!==l.value){if(2===l.value){var t=e.danmakuList[s.danmakuId],a=t.danmus[s.danmuId];e.isAddition?(M.DEBUG&&console.log("当前为合并模式，执行了弹幕合并"),n("contactDanmu",{addition:[a.data]})):n("applyDanmu",{address:a.data})}else M.DEBUG&&console.error("step控制异常！");l.value--,c.value=!1}else n("grabDanmakuDetails",s.danmakuId)};return{step:l,goto:d,show:c,selected:s}}}),T=(n(68752),n(83744));const L=(0,T.Z)(B,[["render",_]]);var C=L},50995:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(4350),i=n(67463),o=n(83744),r=e([i]);i=(r.then?await r:r)[0];const l=(0,o.Z)(i.Z,[["render",a.s]]);t["Z"]=l}))},51478:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(95082),i=(n(9653),n(89745)),o=n(56598),r=(0,o.defineComponent)({name:"aui-number-field",props:{modelValue:{type:Number,default:0},modelModifiers:{default:function(){return{}}},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},validate:{type:Function,default:function(){return!0}},styles:{type:Object,default:{}},attributes:{type:Object,default:{}}},emits:{"update:modelValue":function(e){return!0}},setup:function(e,t){t.attrs,t.slots;var n=t.emit,r=function(t){t=parseFloat(t),(0,i.is_Number)(t)||(t=0),e.modelModifiers.round&&(t=~~t);var a=e.validate(t);a&&n("update:modelValue",t)};r(e.modelValue);var l=(0,o.ref)(null),s=function(t){var n=e.modelValue-0+e.step*(2*~~t-1);r(n),(0,o.nextTick)((function(){l.value.dispatchEvent(new Event("change"))}))},c=function(e){var t=e.target.value;r(t)};return function(){return(0,o.h)("div",{class:"aui-input-number"},[(0,o.h)("lable",{disabled:e.disabled,onClick:function(e){return s(!1)}},[(0,o.h)((0,o.resolveComponent)("v-icon"),{},(function(){return"mdi-minus"}))]),(0,o.h)("input",(0,a.Z)({type:"text",ref:l,disabled:e.disabled,value:e.modelValue,onInput:c,onKeydown:function(e){"ArrowUp"===e.key||38===e.code?s(!0):"ArrowDown"!==e.key&&40!==e.code||s(!1)}},e.attributes)),(0,o.h)("lable",{disabled:e.disabled,class:"aui-label-right",onClick:function(e){return s(!0)},"data-postfix":e.styles.postfix||null},[(0,o.h)((0,o.resolveComponent)("v-icon"),{},(function(){return"mdi-plus"}))])])}}});n(81682);const l=r;var s=l},96471:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(16889),i=n(7026),o=(n(19871),n(83744)),r=e([i]);i=(r.then?await r:r)[0];const l=(0,o.Z)(i.Z,[["render",a.s]]);t["Z"]=l}))},23160:function(e,t,n){"use strict";n.a(e,(async function(e){n.r(t),n.d(t,{Rollbox_BreakPoint:function(){return i.d}});var a=n(48788),i=n(72239),o=(n(53219),n(83744)),r=e([i]);i=(r.then?await r:r)[0];const l=(0,o.Z)(i.Z,[["render",a.s]]);t["default"]=l}))},53374:function(e,t,n){"use strict";n.a(e,(async function(e){var a=n(19729),i=n(44318),o=(n(40900),n(83744)),r=e([i]);i=(r.then?await r:r)[0];const l=(0,o.Z)(i.Z,[["render",a.s]]);t["Z"]=l}))},69016:function(e,t,n){"use strict";n.r(t);var a=n(8081),i=n.n(a),o=n(23645),r=n.n(o),l=r()(i());l.push([e.id,"#aui-popup .danmaku-select.resp-width-popup.layout{min-width:18em;max-width:21em}#aui-popup .danmaku-select{pointer-events:all;border-radius:var(--v-layer-md-radius)}#aui-popup .danmaku-select .select-step{position:relative;display:flex;justify-content:space-between;align-items:stretch;height:4.5em;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}#aui-popup .danmaku-select .select-step .step-tag{width:1.5em;height:1.5em;min-width:1.5em;transition:.3s cubic-bezier(.25,.8,.25,1);color:rgb(var(--v-theme-surface));background:rgba(var(--v-grey),1);border-radius:50%;margin-right:.25em;display:inline-flex;align-items:center;font-size:1rem;justify-content:center}#aui-popup .danmaku-select .select-step .step-active .step-tag{background:rgba(var(--v-theme-primary),1)}#aui-popup .danmaku-select .select-step>div{flex:1 0 auto;padding:0 1.25em;display:flex;justify-content:center;align-items:center}#aui-popup .danmaku-select .select-step .step-one{cursor:pointer}#aui-popup .danmaku-select .select-step .v-divider{position:absolute;left:50%;top:50%;width:18%;margin-left:-11.5%}#aui-popup .danmaku-select .select-body .body-content{padding:.75em 1.25em 1.5em}#aui-popup .danmaku-select .select-body .body-content .content-step{padding:.5em .25em;display:none;overflow-y:scroll}#aui-popup .danmaku-select .select-body .body-content .content-step.step-content-active{display:block;min-height:32vh;min-height:23em;max-height:40vh}#aui-popup .danmaku-select .select-body .body-content .content-step ul li{margin-bottom:.375em;list-style:none;padding:0 .5em;border-radius:var(--v-layer-sm-radius)}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:first-child{display:flex;justify-content:space-between;align-items:center}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child){font-size:.875rem;cursor:pointer}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child):hover{background:#add8e6}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child).selected{background:rgba(var(--v-theme-background),1)}#aui-popup .danmaku-select .select-body .body-content .content-step ul li:not(:first-child).selected:hover{background:rgba(var(--v-theme-background),calc(var(--v-hover-opacity) + .4))}#aui-popup .danmaku-select .select-body .body-content .content-step-one ul li{padding:.375em .625em}#aui-popup .danmaku-select .select-body .body-content .content-step-one ul li .danmaku-engine{display:inline-block;padding:.2em .4em .1em;background:#4b4b4b;color:#ffe246}#aui-popup .danmaku-select .select-body .body-content .content-step-one ul li .danmaku-mark{color:rgb(var(--v-theme-primary))}#aui-popup .danmaku-select .select-body .body-content .content-step-one .v-input .v-input__details,#aui-popup .danmaku-select .select-body .body-content .content-step-one .v-input .v-input__prepend{display:none}#aui-popup .danmaku-select .select-body .body-content .content-step-one .v-input .v-field__control .v-field__field .v-field__input{padding-top:8px}#aui-popup .danmaku-select .select-body .body-content .content-step-two ul li:first-child{color:rgb(var(--v-pink))}#aui-popup .danmaku-select .select-footer{display:flex;justify-content:space-around;align-items:center;height:3.5em;padding:1em 1.25em 2.25em}#aui-popup .danmaku-select .select-footer>button{flex:0 1 auto}.dark-token .danmaku-select .select-body .body-content .content-step{background-color:#444;border-color:#444}",""]),t["default"]=l},46651:function(e,t,n){"use strict";n.r(t);var a=n(8081),i=n.n(a),o=n(23645),r=n.n(o),l=r()(i());l.push([e.id,".aui-input-number{display:flex}.aui-input-number input{margin:0 .25em;padding:0 .25em;width:3.25em;border:1px solid rgb(var(--v-grey));border-radius:var(--v-layer-sm-radius);color:rgb(var(--v-theme-on-background))}.aui-input-number label{border:1px solid rgb(var(--v-lightgrey));border-radius:var(--v-layer-sm-radius)}.aui-input-number input+label{color:red}.aui-input-number .aui-label-right:before,.aui-input-number input+label:before{content:attr(data-postfix)}",""]),t["default"]=l},14549:function(e,t,n){"use strict";n.r(t);var a=n(8081),i=n.n(a),o=n(23645),r=n.n(o),l=r()(i());l.push([e.id,'#lzyplayer{width:100%;border:1px solid gray;box-shadow:2px 3px 10px #000}#lzyplayer .player-head{margin:7px auto 10px 12px;color:#21acff;width:100%;min-height:1.25em}#lzyplayer .player-head span{color:#000}#lzyplayer .player-head span:before{content:"·";color:rgb(var(--v-theme-on-background));font-size:18px;display:inline-block;margin:auto 5px}#lzyplayer .player-controller{display:flex;justify-content:space-around;align-items:center;width:100%;padding:0 0 0 6px;font-size:12px;background-color:rgb(var(--v-theme-surface));-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#lzyplayer .player-controller>span{color:rgb(var(--v-theme-on-surface));flex:1 1 auto;text-align:center}#lzyplayer .player-controller>span.player-switch>*{display:inline-block;vertical-align:middle}#lzyplayer .player-controller>span.player-msg-container{flex:2 2 auto}#lzyplayer .player-controller>span.player-msg-container .player-msg{display:inline-flex;align-items:center;padding-left:.75em;height:28px;list-style:28px;min-width:188px;width:88%;font-size:12px;border:1px solid #ecf2f9;border-radius:4px;background-color:#ecf2f9;box-shadow:0 0 1px gray;overflow:hidden;overflow:-moz-hidden-unscrollable}#lzyplayer .player-controller>span.player-msg-container .player-msg .rollbar{word-break:keep-all;white-space:nowrap;overflow:visible;width:-webkit-max-content;width:-moz-max-content;width:max-content}#lzyplayer .player-controller>span.player-msg-container .player-msg:hover .rollbar{-webkit-animation:lzyXTransform 6s cubic-bezier(.3,.19,.73,1.21) infinite;animation:lzyXTransform 6s cubic-bezier(.3,.19,.73,1.21) infinite}@-webkit-keyframes lzyXTransform{0%,to{transform:translateX(0)}50%{transform:translateX(calc(18em - 100%))}}@keyframes lzyXTransform{0%,to{transform:translateX(0)}50%{transform:translateX(calc(18em - 100%))}}#lzyplayer .player-controller .player-switch.auto-next .v-switch .v-selection-control.v-selection-control--dirty{color:#eab4f8}.dark-token #lzyplayer .player-controller span.player-msg-container .player-msg{border:1px solid #060c13;background-color:#060c13}',""]),t["default"]=l},92229:function(e,t,n){"use strict";n.r(t);var a=n(8081),i=n.n(a),o=n(23645),r=n.n(o),l=r()(i());l.push([e.id,'#detail{box-sizing:border-box}#detail .main{padding-bottom:2.5em}#detail .detail-header .bg-banner{position:absolute;height:40vh;top:0;left:0;right:0;background-image:linear-gradient(to right,rgb(var(--v-theme-primary)) 40%,rgb(var(--v-theme-secondary)) 40%,rgb(var(--v-theme-tertiary)));background-size:cover;background-repeat:no-repeat;background-position:50%;filter:blur(4px);z-index:0}#detail .detail-header .detail-meta{position:relative;margin-top:2em;display:flex;justify-content:space-evenly;flex-wrap:wrap;align-items:flex-start;align-content:flex-start}#detail .detail-header .detail-meta .cover{width:20%;padding:.875em;flex-grow:0;flex-shrink:0}#detail .detail-header .detail-meta .cover>div{border:3px solid rgba(var(--v-theme-surface),var(--v-layer-opacity));border-radius:var(--v-layer-md-radius)}#detail .detail-header .detail-meta .cover .v-img img.v-img__img{-o-object-fit:fill;object-fit:fill}#detail .detail-header .detail-meta .right-side{position:relative;display:flex;flex-grow:1;flex-shrink:0;flex-wrap:nowrap;flex-direction:column;justify-content:space-around;height:100%;width:55%;margin:1em 2em 0;padding:.5em 1.5em 1em;background:rgba(var(--v-theme-surface),calc(var(--v-layer-opacity) - .2));border:2px solid rgb(var(--v-theme-surface));border-radius:var(--v-layer-lg-radius)}#detail .detail-header .detail-meta .right-side .title{padding:.875em 0}#detail .detail-header .detail-meta .right-side .category{padding-bottom:1em}#detail .detail-header .detail-meta .right-side .category .category-tag{margin:0 1.5em 1em 0;font-size:.75em;line-height:1.25em}#detail .detail-header .detail-meta .right-side .description{padding-bottom:1em;font-size:.875rem;color:rgb(var(--v-grey))}#detail .detail-header .detail-meta .right-side .description:before{content:"简介: ";display:inline-block;font-size:.875rem;margin-right:.75em;font-weight:600;color:#21acff}#detail .detail-header .detail-meta .right-side .engine-meta{position:absolute;top:.75em;right:.5em}#detail .detail-header .detail-meta .right-side .engine-meta span.engine-tag{padding:.5em .75em;font-size:.875rem;border-radius:var(--v-layer-sm-radius);background:rgba(var(--v-theme-surface),calc(var(--v-layer-opacity) - .3));text-transform:uppercase}#detail .detail-video-container{position:relative;z-index:2;width:100%}#detail .detail-footer{margin-top:2em;margin-bottom:5em}#detail .detail-body{position:relative;z-index:2}#detail .detail-body .vlist-item-container{display:flex}#detail .detail-body .vlist-item-container li.vlist-item{list-style:none;position:relative;padding:.5em 1em;border-radius:var(--v-layer-md-radius) var(--v-layer-md-radius) 0 0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#detail .detail-body .vlist-item-container li.vlist-item.vlist-item-actived,#detail .detail-body .vlist-item-container li.vlist-item:hover.vlist-item-actived{background-color:rgba(var(--v-theme-primary),.4)}#detail .detail-body .vlist-item-container li.vlist-item:after{content:"";width:0;height:2px;background-color:rgb(var(--v-theme-tertiary));position:absolute;left:100%;bottom:0;transition:all .4s}#detail .detail-body .vlist-item-container li.vlist-item:hover{background-color:rgba(var(--v-theme-secondary),var(--v-hover-opacity))}#detail .detail-body .vlist-item-container li.vlist-item:hover:after{width:100%;left:0;transition-delay:.1s}#detail .detail-body .vlist-item-container li.vlist-item:hover~.vlist-item:after{left:0}#detail .detail-body .video-list-container{padding:.5em;border:1px solid rgb(var(--v-theme-primary))}#detail .detail-body .video-list-container .video-play{letter-spacing:0;font-size:.875rem}#detail .detail-body .video-list-container .video-play.video-play-actived{background-color:rgba(var(--v-theme-secondary),.4)}@media(min-width:967px){#detail .main{margin-left:-2em;margin-right:-2em}}@media(max-width:1264px){#detail .detail-header .detail-meta .cover{width:24%}}@media(max-width:967px){#detail .detail-header .detail-meta .cover{padding:.875em .125em;width:28%}#detail .detail-header .detail-meta .right-side{margin:1em .5em 1em}}@media(max-width:567px){#detail .detail-header .detail-meta .cover{width:46%}#detail .detail-header .detail-meta .right-side{width:85%;margin:1em .5em 1em}}',""]),t["default"]=l},64080:function(e,t,n){"use strict";n.r(t);var a=n(8081),i=n.n(a),o=n(23645),r=n.n(o),l=r()(i());l.push([e.id,".lzyplayer-wrap{display:flex;flex-wrap:wrap;justify-content:space-between;align-content:center;align-items:center;margin:5px auto 46px;width:100%}.lzyplayer-wrap #lzyplayer{flex:3 1 70%}.lzyplayer-wrap .episode-box{min-width:188px;margin-left:2.5em;flex:1 1 25%}.lzyplayer-wrap.lzyplayer-wideplay #lzyplayer{margin-left:1.25em;margin-right:1.25em}.lzyplayer-wrap.lzyplayer-wideplay .episode-box{display:none}.player-region .episode-box{padding:0 .375em;border-radius:var(--v-layer-sm-radius);background-color:rgb(var(--v-lightgrey));-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.player-region .episode-box .episode-box-header{padding:0 .75em;height:2.625em;line-height:2.625em;border-bottom:1px dashed rgb(var(--v-grey));font-weight:400;display:flex;justify-content:space-between;flex-wrap:nowrap;align-items:center}.player-region .episode-box .episode-box-header i{text-indent:.4em}.player-region .episode-box .episode-box-header .episode-header-right{display:flex;justify-content:space-between;align-items:center}.player-region .episode-box .episode-box-header .episode-header-right .episode-progress{font-size:.75rem;padding-top:.375em;color:rgb(var(--v-grey))}.player-region .episode-box .episode-box-header #episode-sort{cursor:pointer}.player-region .episode-box .episode-box-body{padding:.625em .375em;max-height:22em;overflow-x:hidden;overflow-y:scroll}.player-region .episode-box .episode-box-body li.episode-item{margin-bottom:.5em;padding:.5em .625em;color:#222;font-size:.75rem;border-radius:var(--v-layer-sm-radius);transition:background .3s linear;cursor:pointer;list-style:none}.player-region .episode-box .episode-box-body li.episode-item>*{vertical-align:middle}.player-region .episode-box .episode-box-body li.episode-item.episode-active{background:rgb(var(--v-theme-background),calc(var(--v-layer-opacity) + .2));color:#21acff}.player-region .episode-box .episode-box-body li.episode-item:hover{background:rgb(var(--v-theme-background),var(--v-layer-opacity));color:rgb(var(--v-theme-on-background))}.player-region .dark-token .episode-box .episode-box-body li.episode-item{color:#ddd}",""]),t["default"]=l},67463:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{Z:function(){return a.Z}});var a=n(7266),i=e([a]);a=(i.then?await i:i)[0]}))},7026:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{Z:function(){return a.Z}});var a=n(22699),i=e([a]);a=(i.then?await i:i)[0]}))},72239:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{Z:function(){return a.Z},d:function(){return a.d}});var a=n(91074),i=e([a]);a=(i.then?await i:i)[0]}))},44318:function(e,t,n){"use strict";n.a(e,(async function(e){n.d(t,{Z:function(){return a.Z}});var a=n(32421),i=e([a]);a=(i.then?await i:i)[0]}))},19871:function(e,t,n){"use strict";n(21998)},53219:function(e,t,n){"use strict";n(64046)},40900:function(e,t,n){"use strict";n(79342)},68752:function(e,t,n){var a=n(69016);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var i=n(54402).Z;i("f3e32da8",a,!0,{sourceMap:!1,shadowMode:!1})},81682:function(e,t,n){var a=n(46651);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var i=n(54402).Z;i("fdf8c164",a,!0,{sourceMap:!1,shadowMode:!1})},21998:function(e,t,n){var a=n(14549);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var i=n(54402).Z;i("768eea97",a,!0,{sourceMap:!1,shadowMode:!1})},64046:function(e,t,n){var a=n(92229);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var i=n(54402).Z;i("0956e8ce",a,!0,{sourceMap:!1,shadowMode:!1})},79342:function(e,t,n){var a=n(64080);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var i=n(54402).Z;i("42d9ce06",a,!0,{sourceMap:!1,shadowMode:!1})},4350:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var a=n(56598),i={id:"dlplayer"};function o(e,t,n,o,r,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",i)}},16889:function(e,t,n){"use strict";n.d(t,{s:function(){return D}});n(68309),n(74916),n(15306);var a=n(56598),i=n(52653),o=n(46769),r=n(76924),l={class:"player-head"},s={class:"player-controller"},c={"data-balloon":"播放下一集","data-balloon-pos":"down"},d=(0,a.createTextVNode)("mdi-skip-next"),u={key:0,class:"player-switch"},p=(0,a.createElementVNode)("span",null,"宽屏",-1),m={"data-balloon":"卡点重载","data-balloon-pos":"down"},f=(0,a.createTextVNode)("mdi-sync"),y={key:1,class:"player-msg-container"},g=["title"],h=["innerHTML"],v={"data-balloon":"选择弹幕","data-balloon-pos":"down"},b=(0,a.createTextVNode)("mdi-message-bulleted"),k={"data-balloon":"外挂额外弹幕","data-balloon-pos":"down"},x=(0,a.createTextVNode)("mdi-text-box-plus"),w={class:"player-switch auto-next"},E=(0,a.createElementVNode)("span",null,"自动切P",-1);function D(e,t){var n=(0,a.resolveComponent)("ly-dlplayer"),D=(0,a.resolveDirective)("shortcuts");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{id:"lzyplayer",onClick:t[8]||(t[8]=function(){return e.focusIt&&e.focusIt.apply(e,arguments)})},[(0,a.createElementVNode)("h4",l,[(0,a.createTextVNode)((0,a.toDisplayString)("".concat(e.playingMeta.title))+" ",1),(0,a.withDirectives)((0,a.createElementVNode)("span",{style:{color:"#ff9800"}},(0,a.toDisplayString)(e.playingMeta.name),513),[[a.vShow,!!e.playingMeta.title]])]),(0,a.createVNode)(n,{ref:"dlplayer",options:e.dlplayerOptions,onOnplaynext:t[0]||(t[0]=function(t){return e.playevent("playnext")}),onEnded:t[1]||(t[1]=function(t){return e.playevent("ended")})},null,8,["options"]),(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("span",c,[(0,a.createVNode)(i.T,{size:"small",color:"#fcbad3",onClick:t[2]||(t[2]=function(t){return e.playevent("playnext")})},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(o.t,{color:"white"},{default:(0,a.withCtx)((function(){return[d]})),_:1})]})),_:1})]),e.animeTemp.isMobile?(0,a.createCommentVNode)("",!0):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("span",u,[p,(0,a.createVNode)(r.G,{light:"",class:"ml-2",inset:"","hide-details":"",color:"tertiary",modelValue:e.toolbar.wideplay,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.toolbar.wideplay=t})},null,8,["modelValue"])])),[[D,{name:"player-widden",descriptions:"切换播放器宽屏模式",statuKey:null,commonKey:"E",caseSensitive:!1,invoke:function(t){e.toolbar.wideplay=!e.toolbar.wideplay}}]]),(0,a.createElementVNode)("span",m,[(0,a.createVNode)(i.T,{size:"small",color:"#fce2ce",onClick:t[4]||(t[4]=function(t){return e.reloadVideo()})},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(o.t,{color:"white"},{default:(0,a.withCtx)((function(){return[f]})),_:1})]})),_:1})]),e.animeTemp.isMobile?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("span",y,[(0,a.createElementVNode)("div",{class:"player-msg",title:e.toolbar.footerMsg.replace(/<span[^<>]*?>(.*?)<\/span>/g,"$1")},[(0,a.createElementVNode)("div",{class:"rollbar",innerHTML:e.toolbar.footerMsg},null,8,h)],8,g)])),(0,a.createElementVNode)("span",v,[(0,a.createVNode)(i.T,{icon:"",size:"small",flat:"",onClick:t[5]||(t[5]=function(t){return e.$emit("open-select")})},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(o.t,{color:"info"},{default:(0,a.withCtx)((function(){return[b]})),_:1})]})),_:1})]),(0,a.createElementVNode)("span",k,[(0,a.createVNode)(i.T,{icon:"",size:"small",flat:"",onClick:t[6]||(t[6]=function(t){return e.$emit("open-addition")})},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(o.t,{color:"#eab4f8",style:{position:"relative",top:"-2px"}},{default:(0,a.withCtx)((function(){return[x]})),_:1})]})),_:1})]),(0,a.createElementVNode)("span",w,[E,(0,a.createVNode)(r.G,{"hide-details":"",class:"ml-2",inset:"",color:"#eab4f8",modelValue:e.toolbar.autoNext,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.toolbar.autoNext=t})},null,8,["modelValue"])])])])}},48788:function(e,t,n){"use strict";n.d(t,{s:function(){return K}});n(82526),n(41817),n(68309);var a=n(56598),i=n(43139),o=n(52653),r=n(11576),l={id:"detail"},s={class:"main layout resp-padding"},c={class:"detail-header"},d={class:"detail-meta"},u={class:"cover"},p={class:"right-side"},m={class:"title"},f={class:"category"},y={class:"description"},g={class:"engine-meta"},h={class:"engine-tag"},v={class:"detail-body"},b=(0,a.createElementVNode)("h4",{class:"class playing-hint"},"选择路线:",-1),k={class:"vlist-item-container"},x=["onClick"],w={class:"detail-footer"},E=(0,a.createElementVNode)("h4",null,"导出当前播放列表",-1),D={class:"export-list"},V=(0,a.createElementVNode)("p",null,"适用于AuiPlayer格式",-1),N=(0,a.createTextVNode)("Export"),z={class:"export-progress"},_={class:"success--text"},M=(0,a.createElementVNode)("span",null," | ",-1),B={class:"error--text"},T={class:"info--text"},L=(0,a.createElementVNode)("h4",null,"友情链接:",-1),C={class:"relative-links"},S={class:"bilibili"},I=(0,a.createElementVNode)("h4",null,"去小破站看看？",-1),$=(0,a.createElementVNode)("img",{src:"https://www.bilibili.com/favicon.ico",alt:"bilibili"},null,-1),P=["href"],U={class:"bilibili"},G=(0,a.createElementVNode)("h4",null,"去某讯视频看看？",-1),A=(0,a.createElementVNode)("img",{src:"https://v.qq.com/favicon.ico",alt:"bilibili"},null,-1),Z=["href"],R=(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)(" 注意：某讯视频默认启用了DRM数字版权管理，你可以在浏览器选项中自行关闭。 "),(0,a.createElementVNode)("br"),(0,a.createTextVNode)(" Firefox-DRM: "),(0,a.createElementVNode)("a",{style:{"user-select":"all","text-decoration":"underline"}}," about:preferences#general-drm "),(0,a.createTextVNode)(" (复制链接后粘贴到新标签页打开) ")],-1),O={class:"bilibili"},j=(0,a.createElementVNode)("h4",null,"去某艺看看？",-1),F=(0,a.createElementVNode)("img",{src:"https://www.iqiyipic.com/common/images/logo.ico",alt:"bilibili",height:"30"},null,-1),q=["href"];function K(e,t){var n=(0,a.resolveComponent)("player-region");return(0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("section",c,[(0,a.createElementVNode)("div",{class:"bg-banner",style:(0,a.normalizeStyle)("background-image: url(".concat(e.animeMeta.cover,")"))},null,4),(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",u,[(0,a.createVNode)(r.f,{src:e.animeMeta.cover||null,"lazy-src":i,contain:!1},null,8,["src"])]),(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("h3",m,(0,a.toDisplayString)(e.animeMeta.title),1),(0,a.createElementVNode)("div",f,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.animeMeta.category,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("span",{class:"category-tag",key:n,style:(0,a.normalizeStyle)("background-color:rgb(var(".concat(e.themeColorRandom(n),"))"))},(0,a.toDisplayString)(t),5)})),128))]),(0,a.createElementVNode)("div",y,(0,a.toDisplayString)(e.animeMeta.description),1),(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("span",h,(0,a.toDisplayString)(e.animeMeta.module),1)])])])]),(0,a.createVNode)(n,{class:"detail-video-container",ref:"playerRegion",animeTemp:e.animeTemp,animeMeta:e.animeMeta,playing:e.videoPlaying,playingList:e.playList[e.videoPlaying.videoList].video_list,onToggleVideo:e.toggleToRollboxVideo,danmakuStatue:e.danmakuStatue,danmakuList:e.danmakuList,onGrabDanmaku:t[0]||(t[0]=function(){return e.grabDanmaku.apply(e,arguments)}),onGrabDanmakuDetails:t[1]||(t[1]=function(){return e.grabDanmakuDetails.apply(e,arguments)})},null,8,["animeTemp","animeMeta","playing","playingList","onToggleVideo","danmakuStatue","danmakuList"]),(0,a.createElementVNode)("section",v,[b,(0,a.createElementVNode)("ul",k,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.playList,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:1-n,onClick:function(t){return e.showing.playListID=n},class:(0,a.normalizeClass)(["vlist-item",{"vlist-item-actived":n===e.showing.playListID}])},(0,a.toDisplayString)(t.name),11,x)})),128))]),(0,a.createVNode)(a.TransitionGroup,{tag:"div",class:"video-list-container",onClick:e.toggleToListVideo,ref:"episodeBox"},{default:(0,a.withCtx)((function(){return[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.playList[e.showing.playListID].video_list,(function(t,n){return(0,a.openBlock)(),(0,a.createBlock)(o.T,{key:n,text:"",flat:"",variant:"outlined",size:e.animeTemp.isMobile?"small":"middle","data-video-index":n,class:(0,a.normalizeClass)(["video-play ma-2",{"py-1 px-2":e.animeTemp.isMobile},{"pa-2":!e.animeTemp.isMobile},{"video-play-actived":e.showing.playListID===e.videoPlaying.videoList&&n===e.videoPlaying.episodeId}])},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(t.name),1)]})),_:2},1032,["size","data-video-index","class"])})),128))]})),_:1},8,["onClick"])]),(0,a.createElementVNode)("section",w,[E,(0,a.createElementVNode)("div",D,[V,(0,a.createVNode)(o.T,{text:"",flat:"",variant:"outlined",size:e.animeTemp.isMobile?"small":"middle",onClick:e.exportPlayList},{default:(0,a.withCtx)((function(){return[N]})),_:1},8,["size","onClick"]),(0,a.withDirectives)((0,a.createElementVNode)("div",z,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.progress.total===e.progress.success+e.progress.failed?"导出完成!":"正在导出..."),1),(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("span",_,"成功: "+(0,a.toDisplayString)(e.progress.success),1),M,(0,a.createElementVNode)("span",B," 失败: "+(0,a.toDisplayString)(e.progress.failed),1),(0,a.createElementVNode)("span",T," / 共"+(0,a.toDisplayString)(e.progress.total)+"项",1)])],512),[[a.vShow,e.progress.exporting]])]),L,(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("div",S,[I,(0,a.createElementVNode)("div",null,[$,(0,a.createElementVNode)("a",{href:"https://search.bilibili.com/bangumi?keyword=".concat(e.animeMeta.title),target:"_blank"},(0,a.toDisplayString)(e.animeMeta.title),9,P)])]),(0,a.createElementVNode)("div",U,[G,(0,a.createElementVNode)("div",null,[A,(0,a.createElementVNode)("a",{href:"https://v.qq.com/x/search/?q=".concat(e.animeMeta.title),target:"_blank"},(0,a.toDisplayString)(e.animeMeta.title),9,Z),R])]),(0,a.createElementVNode)("div",O,[j,(0,a.createElementVNode)("div",null,[F,(0,a.createElementVNode)("a",{href:"https://so.iqiyi.com/so/q_".concat(e.animeMeta.title),target:"_blank"},(0,a.toDisplayString)(e.animeMeta.title),9,q)])])])])])])}},19729:function(e,t,n){"use strict";n.d(t,{s:function(){return D}});n(68309),n(92222);var a=n(56598),i=n(46769),o={key:0,class:"episode-box"},r={class:"episode-box-header"},l=(0,a.createElementVNode)("span",null,"选集",-1),s=(0,a.createTextVNode)("mdi-playlist-play"),c={class:"episode-header-right"},d={class:"episode-progress"},u=["data-balloon"],p=(0,a.createTextVNode)(" mdi-sort-descending "),m=(0,a.createTextVNode)(" mdi-sort-ascending "),f=(0,a.createTextVNode)(" mdi-sort-variant "),y=["data-index"],g={key:0},h=(0,a.createTextVNode)("mdi-play"),v={key:1},b={key:2},k={class:"terminal-player"},x={class:"danmu-offset"},w=(0,a.createElementVNode)("label",null,"设定弹幕时间偏移: (s)",-1),E=(0,a.createElementVNode)("div",{class:"dlb-full"},null,-1);function D(e,t){var n=(0,a.resolveComponent)("aui-lzyplayer"),D=(0,a.resolveComponent)("danmaku-panel"),V=(0,a.resolveComponent)("aui-number-field"),N=(0,a.resolveDirective)("shortcuts");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("section",null,[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["lzyplayer-wrap","player-region",{"lzyplayer-wideplay":e.toolbar.wideplay}])},[(0,a.createVNode)(n,{ref:"lzyplayer",animeTemp:e.animeTemp,dlplayerConfigs:e.dlplayerOptions,toolbar:e.toolbar,onPlaynext:e.toPlaynext,onEnded:e.toEnded,onOpenSelect:t[0]||(t[0]=function(t){return e.panelDanmaku.show=!0,e.panelDanmaku.isAddition=!1}),onOpenAddition:t[1]||(t[1]=function(t){return e.panelDanmaku.show=!0,e.panelDanmaku.isAddition=!0})},null,8,["animeTemp","dlplayerConfigs","toolbar","onPlaynext","onEnded"]),e.need_Rollbox_Show?((0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("span",null,[l,(0,a.createVNode)(i.t,{color:"#00a1d6"},{default:(0,a.withCtx)((function(){return[s]})),_:1})]),(0,a.createElementVNode)("span",c,[(0,a.createElementVNode)("span",d,(0,a.toDisplayString)(e.playing.episodeId+1)+"/"+(0,a.toDisplayString)(e.playingList.length),1),(0,a.createElementVNode)("span",{onClick:t[2]||(t[2]=function(t){return e.shiftSort()}),id:"episode-sort","data-balloon":1===e.haveSorted?"当前：升序排列":2===e.haveSorted?"当前：降序排列":"当前：默认排序","data-balloon-pos":"down"},[1===e.haveSorted?((0,a.openBlock)(),(0,a.createBlock)(i.t,{key:0,"tag-title":"当前：升序排列",color:"primary"},{default:(0,a.withCtx)((function(){return[p]})),_:1})):2===e.haveSorted?((0,a.openBlock)(),(0,a.createBlock)(i.t,{key:1,"tag-title":"当前：降序排列",color:"red lighten-3"},{default:(0,a.withCtx)((function(){return[m]})),_:1})):((0,a.openBlock)(),(0,a.createBlock)(i.t,{key:2,"tag-title":"当前：默认排序"},{default:(0,a.withCtx)((function(){return[f]})),_:1}))],8,u)])]),(0,a.createElementVNode)("ul",{class:"episode-box-body",onClick:t[3]||(t[3]=function(){return e.toggleToVideo&&e.toggleToVideo.apply(e,arguments)}),ref:"episodebox"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.playingList,(function(t,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{key:n,"data-index":n,class:(0,a.normalizeClass)(["episode-item singleline-omit",{"episode-active":t.id===e.playing.episodeId}])},[t.id===e.playing.episodeId?((0,a.openBlock)(),(0,a.createElementBlock)("span",g,[(0,a.createVNode)(i.t,{color:"#00a1d6",style:{display:"inline-block","margin-top":"-5px","vertical-align":"bottom"}},{default:(0,a.withCtx)((function(){return[h]})),_:1})])):(0,a.createCommentVNode)("",!0),isNaN(t.name)?((0,a.openBlock)(),(0,a.createElementBlock)("span",v,(0,a.toDisplayString)(t.name),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",b,(0,a.toDisplayString)("『 "+t.name+" 番目』"),1))],10,y)})),128))],512)])):(0,a.createCommentVNode)("",!0)],2)),[[N,e.hotkeyList]]),((0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#aui-popup"},[(0,a.withDirectives)((0,a.createVNode)(D,{show:e.panelDanmaku.show,"onUpdate:show":t[4]||(t[4]=function(t){return e.panelDanmaku.show=t}),isAddition:e.panelDanmaku.isAddition,danmakuStatue:e.danmakuStatue,danmakuList:e.danmakuList,onGrabDanmaku:t[5]||(t[5]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.$emit.apply(e,["grabDanmaku"].concat(n))}),onGrabDanmakuDetails:t[6]||(t[6]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.$emit.apply(e,["grabDanmakuDetails"].concat(n))}),onApplyDanmu:e.applyDanmu,onContactDanmu:e.contactDanmu},null,8,["show","isAddition","danmakuStatue","danmakuList","onApplyDanmu","onContactDanmu"]),[[a.vShow,e.panelDanmaku.show]])])),(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",x,[w,(0,a.createVNode)(V,{modelValue:e.toolbar.offsetTime,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.toolbar.offsetTime=t}),modelModifiers:{number:!0},step:.5},null,8,["modelValue","step"])]),E])],512)),[[a.vShow,e.$route.query.epi&&e.playing.isPrepared]])}},43139:function(e,t,n){"use strict";e.exports=n.p+"img/default-cover.7ccf8463.png"}}]);