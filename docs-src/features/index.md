# 特性说明

这里是一些关于AnimeUI的特性以及开发方向等的说明。

## Browser Compatibility

请尽可能使用最新版本的现代浏览器。

具体不同内核浏览器版本要求参考如下：

| Browser     | Version Required | Note     |
| ----------- | ---------------- | -------- |
| Chrome      | 78+    | 嵌套组件拖拽提示样式显示异常 |
| Firefox     | 86+    | 滚动条样式定制无效; |
| Edge        | 86+    | 副作用同Chrome |
| IE          | 11+    | 或许大部分功能运作但体验缺失;限定严格模式的跨域策略; |
| Safari      | 15+    | 平滑滚动等细节部分缺失 |
| IOS_Safari  | 14.5+  | 限定严格模式的跨域策略; |
| Samsung     | 13+    | （缺乏测试） |
| Opera       | 77+    | （缺乏测试） |


## 沉浸模式

沉浸模式基于周期任务对各种预设的用户行为进行简单计算，
能自动的应用一些操作提升细节的用户体验。

AnimeUI的沉浸模式基于特定事件的全局监听，每个周期进行一次沉浸计算，因此不会带来多少性能开销。
周期任务基于 [Laction.js](https://github.com/lozyue/laction)

用户可以对沉浸计算进行辅助控制：

| Manipulation | Impact |
| ------------ | ------ |
| 双击空白处    | 加速进入沉浸状态 |
| 鼠标滚轮滚动  | 改变沉浸度 |

沉浸模式也是实验性的特性之一，许多功能仍待完善。


## 快捷键列表

在帮助关于页可以找到当前所有快捷键列表。
快捷键列表中的所有快捷键都可以定制更改。


## 播放器相关

### 播放器功能支持情况

PC端：（支持度由Lozyue按理想完成度 0-5 给出自评）
| 功能项 |   描述   | 支持度 |
| ------ | ---------------- | -------- |
| 视频播放 | 基本播放，MP4及各种流类型视频 | 4 |
| 弹幕多开载入 | 基本加载筹备，弹幕聚合重载 | 4.5 |
| 弹幕播放 | 对弹幕无遮挡播放 | 4.5 |
| 弹幕调控 | 显示区域、过滤、样式、速度、防遮挡层 | 1 |
| 快捷键 | 切P播放控制弹幕等快捷键 | 3.5 |
| 快捷键定制 | 对已有的大部分快捷键进行定制已经自行增删改 |4.9 |
| 高能进度条 | 通过弹幕数据密度进行高能进度绘制 | 0 |
| 触控操作适配 | 移动端触控调节适配 | 2 |

由于开发时间有限，播放器未有进行进一步的重构优化，未进行足够的移动端适配。



## 配置相关

### 数据懒保存

应用中所有的数据存储都是基于之前提取封装的小型JSON存储库: [Lycabinet](https://github.com/lozyue/lycabinet)

默认数据保存采用节流防抖并行，但是仍然存在一个小于最小存储周期的数据丢失可能性。

目前这个最小周期是5s, 对于除特定场景外的大部分非关键性数据都是采用懒保存模式(Lazy Save)

最典型的例子有：

- 删除各种历史记录
- 修改设定主题
- 视频播放中的观看时间点记录的更新

但不必过于担心，做懒保存的目的主要是为了进行更好的性能优化，
并在特定场景都是实时保存的。  
比如：

- 增加历史记录立即保存
- 暂停视频时立即保存记录（同时该行为进行了节流防抖）

::: tip 修改最小周期
你可以在主题风格中使用API进行设定该最小存储周期
但其将会影响全局的性能！

see: [修改系统设定](./####)
:::

## 主题系统相关

目前的主题系统还非常不完善，处于初期阶段。

像主题更新、主题检查更新等功能均未完成，相关文档也不够完善（/逃）。
